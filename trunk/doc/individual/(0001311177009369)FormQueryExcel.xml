<version
  xsi:noNamespaceSchemaLocation="../../profiles/version_gis.xsd"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <doIt>
    <update>
      <mdController
        name="dss.vector.solutions.query.QueryController">
        <create>
          <mdAction
            name="queryType"
            label="Query Type"
            description="Builds a query screen for any generic mdBusiness">
            <mdParameter
              name="type"
              label="Type"
              type="java.lang.String"
              order="0" />
          </mdAction>
        </create>
      </mdController>
    </update>

    <create>
      <mdUtil
        name="dss.vector.solutions.generator.MdFormUtil"
        label="MdForm util">
        <mdMethod
          name="getAllForms"
          label="Get All Form"
          returnType="com.runwaysdk.system.metadata.MdWebForm[]"
          static="true" />
        <mdMethod
          name="getForm"
          label="Get Form"
          returnType="com.runwaysdk.system.metadata.MdWebForm"
          static="true">
          <mdParameter
            name="type"
            label="Type"
            order="0"
            type="java.lang.String" />
        </mdMethod>
        <mdMethod
          name="getFields"
          label="Get Fields"
          returnType="com.runwaysdk.system.metadata.MdWebField[]"
          static="true">
          <mdParameter
            name="form"
            label="Form"
            order="0"
            type="com.runwaysdk.system.metadata.MdWebForm" />
        </mdMethod>
        <mdMethod
          name="getMdRelationship"
          label="Get MdRelationship"
          returnType="com.runwaysdk.system.metadata.MdRelationship"
          static="true">
          <mdParameter
            name="field"
            label="field"
            order="0"
            type="com.runwaysdk.system.metadata.MdWebField" />
        </mdMethod>
        <mdMethod
          name="definesAttributes"
          label="Defines Attributes"
          returnType="com.runwaysdk.system.metadata.MdAttributeConcrete[]"
          static="true">
          <mdParameter
            name="mdRelationship"
            label="mdRelationship"
            order="0"
            type="com.runwaysdk.system.metadata.MdRelationship" />
        </mdMethod>
        <mdMethod
          name="excelExport"
          label="Excel Export"
          returnType="java.io.InputStream"
          static="true">
          <mdParameter
            name="type"
            label="Type"
            order="0"
            type="java.lang.String" />
        </mdMethod>
        <mdMethod
          name="excelImport"
          label="Excel Import"
          returnType="java.io.InputStream"
          static="true">
          <mdParameter
            name="stream"
            label="stream"
            order="0"
            type="java.io.InputStream" />
          <mdParameter
            name="type"
            label="type"
            order="1"
            type="java.lang.String" />
        </mdMethod>
      </mdUtil>

      <mdBusiness
        name="dss.vector.solutions.geo.GeoField"
        label="Geo Field"
        generateController="false">
        <attributes>
          <reference
            name="geoAttribute"
            label="Geo Attribute"
            required="true"
            type="com.runwaysdk.system.metadata.MdAttributeReference" />
          <boolean
            name="isSprayHierarchy"
            label="Is spray hierarchy"
            description="Flag denoting if this geo field follows the spray hierarchy"
            positiveLabel="Yes"
            negativeLabel="No"
            required="true" />
          <boolean
            name="isPoliticalHierarchy"
            label="Is political hierarchy"
            description="Flag denoting if this geo field follows the political hierarchy"
            positiveLabel="Yes"
            negativeLabel="No"
            required="true" />
          <boolean
            name="isPopulationHierarchy"
            label="Is population hierarchy"
            description="Flag denoting if this geo field follows the population hierarchy"
            positiveLabel="Yes"
            negativeLabel="No"
            required="true" />
          <boolean
            name="isUrbanHierarchy"
            label="Is urban hierarchy"
            description="Flag denoting if this geo field follows the urban hierarchy"
            positiveLabel="Yes"
            negativeLabel="No"
            required="true" />
          <boolean
            name="isUnderSystemRoot"
            label="Is under system root"
            description="Flag denoting if searching on this geo tag should enforce the system geo root"
            defaultValue="true"
            positiveLabel="Yes"
            negativeLabel="No"
            required="true" />
          <reference
            name="filter"
            label="Filter"
            description="Filters this geo field to only allow input of a single entity-type"
            required="false"
            type="dss.vector.solutions.geo.GeoHierarchy" />
        </attributes>
        <mdMethod
          name="getExtraUniversals"
          label="Get Extra Universals"
          returnType="java.lang.String[]"
          static="false" />
        <mdMethod
          name="getFilterType"
          label="Get Filter Type"
          returnType="java.lang.String"
          static="false" />
        <mdMethod
          name="getGeoField"
          label="Get geo field"
          returnType="dss.vector.solutions.geo.GeoField"
          static="true">
          <mdParameter
            name="klass"
            label="Class"
            order="0"
            type="java.lang.String" />
          <mdParameter
            name="name"
            label="Name"
            order="1"
            type="java.lang.String" />
        </mdMethod>
      </mdBusiness>

      <mdTree
        name="dss.vector.solutions.geo.ExtraFieldUniversal"
        label="Extra Field Universal"
        generateController="false">
        <parent
          name="dss.vector.solutions.geo.GeoField"
          cardinality="*"
          method="GeoFields" />
        <child
          name="dss.vector.solutions.geo.GeoHierarchy"
          method="GeoHierarchies"
          cardinality="*" />
      </mdTree>

      <mdController
        name="dss.vector.solutions.generator.ExcelController"
        label="Excel Controller">
        <mdAction
          name="excelExport"
          label="Excel Export"
          isPost="false">
          <mdParameter
            name="type"
            label="Type"
            order="0"
            type="java.lang.String" />
        </mdAction>
        <mdAction
          name="importType"
          label="Import Type"
          isPost="false">
          <mdParameter
            name="type"
            label="Type"
            order="0"
            type="java.lang.String" />
        </mdAction>
        <mdAction
          name="excelImport"
          label="Excel Import"
          isPost="true" />
      </mdController>
    </create>

  </doIt>
  <undoIt>
    <delete>
      <object
        key="dss.vector.solutions.generator.ExcelController"
        type="com.runwaysdk.system.metadata.MdController" />
      <object
        key="dss.vector.solutions.geo.ExtraFieldUniversal"
        type="com.runwaysdk.system.metadata.MdRelationship" />
      <object
        key="dss.vector.solutions.geo.GeoField"
        type="com.runwaysdk.system.metadata.MdBusiness" />
      <object
        key="dss.vector.solutions.generator.MdFormUtil"
        type="com.runwaysdk.system.metadata.MdUtil" />
      <object
        key="dss.vector.solutions.query.QueryController.queryType"
        type="com.runwaysdk.system.metadata.MdAction" />
    </delete>
  </undoIt>
</version>
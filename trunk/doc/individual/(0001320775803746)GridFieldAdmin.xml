<version
  xsi:noNamespaceSchemaLocation="classpath:com/runwaysdk/resources/xsd/version.xsd"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <doIt>
    <update>
      <mdController
        name="dss.vector.solutions.form.MdFormAdminController">
        <mdAction
          name="newMdField">
          <create>
            <mdParameter
              name="isComposite"
              label="Is Composite"
              order="1"
              type="java.lang.Boolean" />
          </create>
        </mdAction>
        <mdAction
          name="editMdField">
          <create>
            <mdParameter
              name="isComposite"
              label="Is Composite"
              order="1"
              type="java.lang.Boolean" />
          </create>
        </mdAction>
        <create>
          <mdAction
            name="availableCompositeFields"
            label="Available composite fields"
            description="Returns types of MdFields available for creation on composite fields."
            isPost="true" />
          <mdAction
            name="createCompositeField"
            label="Create composite field"
            description="Creates a new composite field"
            isPost="true">
            <mdParameter
              name="mdField"
              label="MdField"
              order="0"
              type="com.runwaysdk.system.metadata.MdWebPrimitive" />
            <mdParameter
              name="mdCompositeFieldId"
              label="Composite field id"
              order="1"
              type="java.lang.String" />
          </mdAction>
          <mdAction
            name="updateCompositeField"
            label="Update composite field"
            description="Updates a new composite field"
            isPost="true">
            <mdParameter
              name="mdField"
              label="MdField"
              order="0"
              type="com.runwaysdk.system.metadata.MdWebPrimitive" />
          </mdAction>
          <mdAction
            name="cancelCompositeField"
            label="Cancel composite field"
            isPost="true">
            <mdParameter
              name="mdField"
              label="MdField"
              order="0"
              type="com.runwaysdk.system.metadata.MdWebPrimitive" />
          </mdAction>
          <mdAction
            name="deleteCompositeField"
            label="Delete composite field"
            isPost="true">
            <mdParameter
              name="mdFieldId"
              label="MdField"
              order="0"
              type="java.lang.String" />
          </mdAction>
        </create>
      </mdController>

      <mdUtil
        name="dss.vector.solutions.generator.MdFormUtil">
        <create>
          <mdMethod
            name="getFieldsForComposite"
            label="Get fields for composite"
            returnType="java.lang.String"
            static="true">
            <mdParameter
              name="compositeFieldId"
              label="Composite field id"
              order="0"
              type="java.lang.String" />
          </mdMethod>
          <mdMethod
            name="confirmDeleteCompositeField"
            label="Confirm Delete Form"
            description="Throws exception with confirmation information to delete an MdField"
            static="true"
            returnType="void">
            <mdParameter
              name="mdCompositeFieldId"
              label="Composite field id"
              description="The id of the current composite field."
              order="0"
              type="java.lang.String" />
            <mdParameter
              name="mdFieldId"
              label="Field id"
              description="The id of the current MdField."
              order="1"
              type="java.lang.String" />
          </mdMethod>
          <mdMethod
            name="deleteCompositeField"
            label="Delete composite field"
            static="true"
            returnType="void">
            <mdParameter
              name="mdField"
              label="MdField"
              order="0"
              type="com.runwaysdk.system.metadata.MdWebPrimitive" />
          </mdMethod>
        </create>
      </mdUtil>
    </update>
    <permissions>
      <method
        methodName="createFieldForComposite"
        type="dss.vector.solutions.generator.MdFormUtil">
        <assignedRole
          roleName="Administrator" />
      </method>
      <method
        methodName="deleteCompositeField"
        type="dss.vector.solutions.generator.MdFormUtil">
        <assignedRole
          roleName="Administrator" />
      </method>
      <method
        methodName="updateFieldForComposite"
        type="dss.vector.solutions.generator.MdFormUtil">
        <assignedRole
          roleName="Administrator" />
      </method>
    </permissions>
  </doIt>
  <undoIt>
    <delete>
      <object
        key="dss.vector.solutions.generator.MdFormUtil.deleteCompositeField"
        type="com.runwaysdk.system.metadata.MdMethod" />
      <object
        key="dss.vector.solutions.generator.MdFormUtil.confirmDeleteCompositeField"
        type="com.runwaysdk.system.metadata.MdMethod" />
      <object
        key="dss.vector.solutions.generator.MdFormUtil.getFieldsForComposite"
        type="com.runwaysdk.system.metadata.MdMethod" />
      <object
        key="dss.vector.solutions.form.MdFormAdminController.availableCompositeFields"
        type="com.runwaysdk.system.metadata.MdAction" />
      <object
        key="dss.vector.solutions.form.MdFormAdminController.createCompositeField"
        type="com.runwaysdk.system.metadata.MdAction" />
      <object
        key="dss.vector.solutions.form.MdFormAdminController.deleteCompositeField"
        type="com.runwaysdk.system.metadata.MdAction" />
      <object
        key="dss.vector.solutions.form.MdFormAdminController.cancelCompositeField"
        type="com.runwaysdk.system.metadata.MdAction" />
      <object
        key="dss.vector.solutions.form.MdFormAdminController.updateCompositeField"
        type="com.runwaysdk.system.metadata.MdAction" />
      <object
        key="dss.vector.solutions.form.MdFormAdminController.newMdField.isComposite"
        type="com.runwaysdk.system.metadata.MdParameter" />
      <object
        key="dss.vector.solutions.form.MdFormAdminController.editMdField.isComposite"
        type="com.runwaysdk.system.metadata.MdParameter" />
    </delete>
  </undoIt>
</version>
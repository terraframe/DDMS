<version
  xsi:noNamespaceSchemaLocation="classpath:com/runwaysdk/resources/xsd/version.xsd"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <doIt>
    <delete>
      <object
        key="dss.vector.solutions.general.SystemURL.writeRole"
        type="com.runwaysdk.system.metadata.MdAttribute" />
      <object
        key="dss.vector.solutions.general.SystemURL.readRole"
        type="com.runwaysdk.system.metadata.MdAttribute" />    
    </delete>
    <create>
      <mdBusiness
        name="dss.vector.solutions.permissions.RoleProperty"
        label="Role Property"
        generateController="false">
        <attributes>
          <reference
            name="disease"
            type="dss.vector.solutions.general.Disease"
            label="Disease"
            required="true"
            indexType="non-unique index" />
          <reference
            name="role"
            column="roles"
            type="com.runwaysdk.system.Roles"
            label="Role"
            required="true"
            indexType="non-unique index" />
          <enumeration
            name="roleType"
            label="Role Type"
            required="true"
            selectMultiple="false"
            type="dss.vector.solutions.permission.PermissionOption" />
        </attributes>
      </mdBusiness>

      <mdTree
        name="dss.vector.solutions.permissions.URLRole"
        label="System URL Role"
        generateController="false">
        <parent
          cardinality="1"
          name="dss.vector.solutions.general.SystemURL"
          method="SystemURLs" />
        <child
          cardinality="*"
          name="dss.vector.solutions.permissions.RoleProperty"
          method="Roles" />
      </mdTree>
    </create>
  </doIt>
  <undoIt>
    <delete>
      <object
        key="dss.vector.solutions.permissions.URLRole"
        type="com.runwaysdk.system.metadata.MdRelationship" />
      <object
        key="dss.vector.solutions.permissions.RoleProperty"
        type="com.runwaysdk.system.metadata.MdBusiness" />
    </delete>
  </undoIt>
</version>
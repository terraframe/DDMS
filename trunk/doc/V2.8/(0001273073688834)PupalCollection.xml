<version
  xsi:noNamespaceSchemaLocation="../../profiles/version_gis.xsd"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <doIt>
    <create>
      <enumerationMaster
        name="dss.vector.solutions.entomology.ContainerShapeMaster"
        label="Container Shape Master"
        generateController="false" />

      <object
        key="dss.vector.solutions.entomology.ContainerShapeMaster.CIRCLE"
        type="dss.vector.solutions.entomology.ContainerShapeMaster">
        <attribute
          name="enumName"
          value="CIRCLE" />
        <attributeStruct
          name="displayLabel">
          <attribute
            name="defaultLocale"
            value="Circular" />
        </attributeStruct>
      </object>

      <object
        key="dss.vector.solutions.entomology.ContainerShapeMaster.RECTANGLE"
        type="dss.vector.solutions.entomology.ContainerShapeMaster">
        <attribute
          name="enumName"
          value="RECTANGLE" />
        <attributeStruct
          name="displayLabel">
          <attribute
            name="defaultLocale"
            value="Rectangular" />
        </attributeStruct>
      </object>

      <mdEnumeration
        name="dss.vector.solutions.entomology.ContainerShape"
        type="dss.vector.solutions.entomology.ContainerShapeMaster"
        label="Container Shape">
        <includeAll />
      </mdEnumeration>

      <mdBusiness
        name="dss.vector.solutions.entomology.PupalCollection"
        label="Pupal collection by individual container"
        generateController="false">
        <attributes>
          <reference
            name="geoEntity"
            label="Geo Entity"
            required="true"
            type="dss.vector.solutions.geo.generated.GeoEntity" />
          <date
            name="startDate"
            label="Start Date"
            required="true" />
          <date
            name="endDate"
            label="End Date"
            required="true" />
          <char
            name="collectionId"
            label="Collection Id"
            size="255"
            required="true"
            indexType="unique index" />
          <text
            name="notes"
            label="Notes" />
        </attributes>
      </mdBusiness>

      <mdIndex
        type="dss.vector.solutions.entomology.PupalCollection"
        label="Immature Collection Index"
        active="true"
        unique="true">
        <attribute
          name="geoEntity"
          indexOrder="0" />
        <attribute
          name="startDate"
          indexOrder="1" />
        <attribute
          name="endDate"
          indexOrder="2" />
      </mdIndex>

      <mdBusiness
        name="dss.vector.solutions.entomology.PupalPremise"
        label="Premise"
        generateController="false">
        <attributes>
          <reference
            name="collection"
            label="Collection"
            required="true"
            type="dss.vector.solutions.entomology.PupalCollection" />
          <reference
            name="premiseType"
            label="Premise Type"
            required="true"
            type="dss.vector.solutions.ontology.Term" />
          <integer
            name="numberExamined"
            label="Total Number of Premises Examined"
            rejectNegative="true"
            rejectZero="true" />
          <decimal
            name="premiseSize"
            label="Total Size of Premises in Hectares"
            length="32"
            decimal="2"
            rejectNegative="true"
            rejectZero="true" />
          <integer
            name="numberInhabitants"
            label="Total Number of Inhabitants"
            rejectNegative="true" />
        </attributes>
        <mdMethod
          name="getView"
          label="Get View"
          returnType="dss.vector.solutions.entomology.PupalCollectionView"
          static="false" />
      </mdBusiness>

      <mdIndex
        type="dss.vector.solutions.entomology.PupalPremise"
        label="Collection Premise Index"
        active="true"
        unique="true">
        <attribute
          name="collection"
          indexOrder="0" />
        <attribute
          name="premiseType"
          indexOrder="1" />
      </mdIndex>

      <mdBusiness
        name="dss.vector.solutions.entomology.PupalContainer"
        label="Pupal Container"
        generateController="false">
        <attributes>
          <reference
            name="premise"
            label="Premise"
            required="true"
            type="dss.vector.solutions.entomology.PupalPremise" />
          <char
            name="containerId"
            label="Container Id"
            required="true"
            size="255" />
          <reference
            name="containerType"
            label="Container Type Name"
            type="dss.vector.solutions.ontology.Term" />
          <enumeration
            name="shape"
            label="Shape"
            type="dss.vector.solutions.entomology.ContainerShape"
            selectMultiple="false" />
          <decimal
            name="height"
            label="Height (cm)"
            length="32"
            decimal="2" />
          <decimal
            name="width"
            label="Width (cm)"
            length="32"
            decimal="2" />
          <decimal
            name="containerLength"
            label="Length (cm)"
            length="32"
            decimal="2" />
          <decimal
            name="openingWidth"
            label="Opening Width (cm)"
            length="32"
            decimal="2" />
          <decimal
            name="openingLength"
            label="Opening Length (cm)"
            length="32"
            decimal="2" />
          <decimal
            name="diameter"
            label="Diameter (cm)"
            length="32"
            decimal="2" />
          <decimal
            name="openingDiameter"
            label="Opening Diameter (cm)"
            length="32"
            decimal="2" />
          <reference
            name="shading"
            label="Shading"
            type="dss.vector.solutions.ontology.Term" />
          <reference
            name="lid"
            label="Presence of Lid"
            type="dss.vector.solutions.ontology.Term" />
          <reference
            name="roof"
            label="Roof Assistance"
            type="dss.vector.solutions.ontology.Term" />
          <reference
            name="fillMethod"
            label="Fill Method"
            type="dss.vector.solutions.ontology.Term" />
          <reference
            name="fillFrequency"
            label="Manual Fill Frequency"
            type="dss.vector.solutions.ontology.Term" />
          <reference
            name="drawdownFrequency"
            label="Drawdown Frequency"
            type="dss.vector.solutions.ontology.Term" />
          <integer
            name="drawdownPercent"
            label="Drawdown Percentage"
            rejectNegative="true"/>
        </attributes>
        <mdMethod
          name="getView"
          label="Get View"
          returnType="dss.vector.solutions.entomology.PupalContainerView"
          static="false" />
      </mdBusiness>

      <mdTree
        name="dss.vector.solutions.entomology.PupalContainerAmount"
        label="Pupal Container Amount"
        generateController="false">
        <attributes>
          <integer
            name="amount"
            label="Amount"
            rejectNegative="true" />
        </attributes>
        <parent
          cardinality="*"
          name="dss.vector.solutions.entomology.PupalContainer"
          method="PupalContainerAmounts" />
        <child
          cardinality="*"
          name="dss.vector.solutions.ontology.Term"
          method="Pupal" />
      </mdTree>

      <mdView
        name="dss.vector.solutions.entomology.PupalCollectionView"
        label="Pupal collection by individual container">
        <attributes>
          <char
            name="concreteId"
            label="Concrete Id"
            size="255"
            required="true" />
          <virtual
            concrete="geoEntity"
            type="dss.vector.solutions.entomology.PupalCollection" />
          <virtual
            concrete="startDate"
            type="dss.vector.solutions.entomology.PupalCollection" />
          <virtual
            concrete="endDate"
            type="dss.vector.solutions.entomology.PupalCollection" />
          <virtual
            concrete="collectionId"
            type="dss.vector.solutions.entomology.PupalCollection" />
          <virtual
            concrete="notes"
            type="dss.vector.solutions.entomology.PupalCollection" />
          <char
            name="premiseId"
            label="Premise Id"
            size="255"
            required="true" />
          <virtual
            concrete="premiseType"
            type="dss.vector.solutions.entomology.PupalPremise" />
          <virtual
            concrete="numberExamined"
            type="dss.vector.solutions.entomology.PupalPremise" />
          <virtual
            concrete="premiseSize"
            type="dss.vector.solutions.entomology.PupalPremise" />
          <virtual
            concrete="numberInhabitants"
            type="dss.vector.solutions.entomology.PupalPremise" />
        </attributes>
        <mdMethod
          name="applyWithContainers"
          label="Apply With Containers"
          static="false"
          returnType="dss.vector.solutions.entomology.PupalContainerView[]">
          <mdParameter
            name="containers"
            label="Containers"
            order="0"
            type="dss.vector.solutions.entomology.PupalContainerView[]" />
          <mdParameter
            name="amounts"
            label="Amounts"
            order="1"
            type="dss.vector.solutions.entomology.PupalContainerAmountView[][]" />
        </mdMethod>
        <mdMethod
          name="getMostRecent"
          label="Get Most Recent"
          returnType="dss.vector.solutions.entomology.PupalCollectionViewQuery"
          static="true" />
        <mdMethod
          name="getContainers"
          label="Get Containers"
          returnType="dss.vector.solutions.entomology.PupalContainerView[]"
          static="false" />
        <mdMethod
          name="searchCollections"
          label="Search Collections"
          returnType="dss.vector.solutions.entomology.PupalCollectionViewQuery"
          static="true">
          <mdParameter
            name="collection"
            label="Collection"
            type="dss.vector.solutions.entomology.PupalCollectionView"
            order="-1" />
          <mdParameter
            name="sortAttribute"
            label="Sort Attribute"
            order="0"
            type="java.lang.String" />
          <mdParameter
            name="isAscending"
            label="Is Ascending"
            order="1"
            type="java.lang.Boolean" />
          <mdParameter
            name="pageSize"
            label="Page Size"
            order="2"
            type="java.lang.Integer" />
          <mdParameter
            name="pageNumber"
            label="Page Number"
            order="3"
            type="java.lang.Integer" />
        </mdMethod>
        <mdMethod
          name="getCollection"
          label="Get Collection"
          returnType="dss.vector.solutions.entomology.PupalCollectionView"
          static="true">
          <mdParameter
            name="collection"
            label="Collection"
            type="dss.vector.solutions.entomology.PupalCollectionView"
            order="0" />
        </mdMethod>
        <mdMethod
          name="deleteConcrete"
          label="Delete Concrete"
          returnType="void"
          static="false" />
        <mdMethod
          name="deletePremise"
          label="Delete Premise"
          returnType="void"
          static="false" />
      </mdView>

      <mdView
        name="dss.vector.solutions.entomology.PupalContainerView"
        label="Pupal Container">
        <attributes>
          <char
            name="concreteId"
            label="Concrete Id"
            size="255"
            required="true" />
          <virtual
            concrete="premise"
            type="dss.vector.solutions.entomology.PupalContainer" />
          <virtual
            concrete="containerId"
            type="dss.vector.solutions.entomology.PupalContainer" />
          <virtual
            concrete="containerType"
            type="dss.vector.solutions.entomology.PupalContainer" />
          <virtual
            concrete="shape"
            type="dss.vector.solutions.entomology.PupalContainer" />
          <virtual
            concrete="height"
            type="dss.vector.solutions.entomology.PupalContainer" />
          <virtual
            concrete="width"
            type="dss.vector.solutions.entomology.PupalContainer" />
          <virtual
            concrete="containerLength"
            type="dss.vector.solutions.entomology.PupalContainer" />
          <virtual
            concrete="openingWidth"
            type="dss.vector.solutions.entomology.PupalContainer" />
          <virtual
            concrete="openingLength"
            type="dss.vector.solutions.entomology.PupalContainer" />
          <virtual
            concrete="diameter"
            type="dss.vector.solutions.entomology.PupalContainer" />
          <virtual
            concrete="openingDiameter"
            type="dss.vector.solutions.entomology.PupalContainer" />
          <virtual
            concrete="shading"
            type="dss.vector.solutions.entomology.PupalContainer" />
          <virtual
            concrete="lid"
            type="dss.vector.solutions.entomology.PupalContainer" />
          <virtual
            concrete="roof"
            type="dss.vector.solutions.entomology.PupalContainer" />
          <virtual
            concrete="fillMethod"
            type="dss.vector.solutions.entomology.PupalContainer" />
          <virtual
            concrete="fillFrequency"
            type="dss.vector.solutions.entomology.PupalContainer" />
          <virtual
            concrete="drawdownFrequency"
            type="dss.vector.solutions.entomology.PupalContainer" />
          <virtual
            concrete="drawdownPercent"
            type="dss.vector.solutions.entomology.PupalContainer" />
          <reference
            name="pupaeAmount"
            label="Pupae Amount"
            type="dss.vector.solutions.ontology.Term" />
        </attributes>
        <mdMethod
          name="getAmounts"
          label="Get Amounts"
          static="false"
          returnType="dss.vector.solutions.entomology.PupalContainerAmountView[]">
        </mdMethod>
        <mdMethod
          name="getAmountsForViews"
          label="Get Amounts For Views"
          static="true"
          returnType="dss.vector.solutions.entomology.PupalContainerAmountView[][]">
          <mdParameter
            name="views"
            order="0"
            type="dss.vector.solutions.entomology.PupalContainerView[]"
            label="Views" />
        </mdMethod>

      </mdView>

      <mdView
        name="dss.vector.solutions.entomology.PupalContainerAmountView"
        label="Pupal Container Amount">
        <attributes>
          <reference
            name="container"
            label="Container"
            type="dss.vector.solutions.entomology.PupalContainer"
            required="true" />
          <reference
            name="term"
            label="Term"
            type="dss.vector.solutions.ontology.Term"
            required="true" />
          <virtual
            concrete="amount"
            type="dss.vector.solutions.entomology.PupalContainerAmount" />
        </attributes>
      </mdView>

      <mdController
        name="dss.vector.solutions.entomology.PupalContainerController"
        label="Pupal Container Controller">
        <mdAction
          name="search"
          label="Search"
          isPost="false"
          isQuery="false" />
        <mdAction
          name="searchByDTO"
          label="Search by DTO"
          isPost="true"
          isQuery="true">
          <mdParameter
            name="dto"
            label="DTO"
            order="0"
            type="dss.vector.solutions.entomology.PupalCollectionView" />
        </mdAction>
        <mdAction
          name="searchByParameters"
          label="Search by Parameters"
          isPost="false"
          isQuery="true">
          <mdParameter
            name="geoId"
            label="Geo Id"
            order="0"
            type="java.lang.String" />
          <mdParameter
            name="startDate"
            label="Start Date"
            order="1"
            type="java.util.Date" />
          <mdParameter
            name="endDate"
            label="End Date"
            order="2"
            type="java.util.Date" />
          <mdParameter
            name="premiseType"
            label="Premise Type"
            order="3"
            type="java.lang.String" />
          <mdParameter
            name="collectionId"
            label="CollectionId"
            order="5"
            type="java.lang.String" />
        </mdAction>
        <mdAction
          name="forward"
          label="Forward"
          isPost="true"
          isQuery="false">
          <mdParameter
            name="dto"
            label="DTO"
            order="0"
            type="dss.vector.solutions.entomology.PupalCollectionView" />
        </mdAction>
        <mdAction
          name="view"
          label="View"
          isPost="false"
          isQuery="false">
          <mdParameter
            name="id"
            label="Id"
            order="1"
            type="java.lang.String" />
        </mdAction>
        <mdAction
          name="delete"
          label="delete"
          isPost="true"
          isQuery="false">
          <mdParameter
            name="dto"
            label="DTO"
            order="0"
            type="dss.vector.solutions.entomology.PupalCollectionView" />
        </mdAction>
      </mdController>

      <object
        key="Ontology__dss.vector.solutions.entomology.PupalContainerView.containerType"
        type="dss.vector.solutions.ontology.BrowserField">
        <attributeReference
          name="mdAttribute"
          key="dss.vector.solutions.entomology.PupalContainerView.containerType" />
      </object>
      <object
        key="Ontology__dss.vector.solutions.entomology.PupalContainerView.shading"
        type="dss.vector.solutions.ontology.BrowserField">
        <attributeReference
          name="mdAttribute"
          key="dss.vector.solutions.entomology.PupalContainerView.shading" />
      </object>
      <object
        key="Ontology__dss.vector.solutions.entomology.PupalContainerView.lid"
        type="dss.vector.solutions.ontology.BrowserField">
        <attributeReference
          name="mdAttribute"
          key="dss.vector.solutions.entomology.PupalContainerView.lid" />
      </object>
      <object
        key="Ontology__dss.vector.solutions.entomology.PupalContainerView.roof"
        type="dss.vector.solutions.ontology.BrowserField">
        <attributeReference
          name="mdAttribute"
          key="dss.vector.solutions.entomology.PupalContainerView.roof" />
      </object>
      <object
        key="Ontology__dss.vector.solutions.entomology.PupalContainerView.fillMethod"
        type="dss.vector.solutions.ontology.BrowserField">
        <attributeReference
          name="mdAttribute"
          key="dss.vector.solutions.entomology.PupalContainerView.fillMethod" />
      </object>
      <object
        key="Ontology__dss.vector.solutions.entomology.PupalContainerView.fillFrequency"
        type="dss.vector.solutions.ontology.BrowserField">
        <attributeReference
          name="mdAttribute"
          key="dss.vector.solutions.entomology.PupalContainerView.fillFrequency" />
      </object>
      <object
        key="Ontology__dss.vector.solutions.entomology.PupalContainerView.drawdownFrequency"
        type="dss.vector.solutions.ontology.BrowserField">
        <attributeReference
          name="mdAttribute"
          key="dss.vector.solutions.entomology.PupalContainerView.drawdownFrequency" />
      </object>
      <object
        key="Ontology__dss.vector.solutions.entomology.PupalContainerView.pupaeAmount"
        type="dss.vector.solutions.ontology.BrowserField">
        <attributeReference
          name="mdAttribute"
          key="dss.vector.solutions.entomology.PupalContainerView.pupaeAmount" />
      </object>
      <object
        key="Ontology__dss.vector.solutions.entomology.PupalCollectionView.premiseType"
        type="dss.vector.solutions.ontology.BrowserField">
        <attributeReference
          name="mdAttribute"
          key="dss.vector.solutions.entomology.PupalCollectionView.premiseType" />
      </object>
    </create>
  </doIt>
  <undoIt>
    <delete>
      <object
        key="Ontology__dss.vector.solutions.entomology.PupalContainerView.containerType"
        type="dss.vector.solutions.ontology.BrowserField" />
      <object
        key="Ontology__dss.vector.solutions.entomology.PupalContainerView.shading"
        type="dss.vector.solutions.ontology.BrowserField" />
      <object
        key="Ontology__dss.vector.solutions.entomology.PupalContainerView.lid"
        type="dss.vector.solutions.ontology.BrowserField" />
      <object
        key="Ontology__dss.vector.solutions.entomology.PupalContainerView.roof"
        type="dss.vector.solutions.ontology.BrowserField" />
      <object
        key="Ontology__dss.vector.solutions.entomology.PupalContainerView.fillMethod"
        type="dss.vector.solutions.ontology.BrowserField" />
      <object
        key="Ontology__dss.vector.solutions.entomology.PupalContainerView.fillFrequency"
        type="dss.vector.solutions.ontology.BrowserField" />
      <object
        key="Ontology__dss.vector.solutions.entomology.PupalContainerView.drawdownFrequency"
        type="dss.vector.solutions.ontology.BrowserField" />
      <object
        key="Ontology__dss.vector.solutions.entomology.PupalContainerView.pupaeAmount"
        type="dss.vector.solutions.ontology.BrowserField" />
      <object
        key="Ontology__dss.vector.solutions.entomology.PupalCollectionView.premiseType"
        type="dss.vector.solutions.ontology.BrowserField" />
      <object
        key="dss.vector.solutions.entomology.PupalContainerController"
        type="com.runwaysdk.system.metadata.MdController" />
      <object
        key="dss.vector.solutions.entomology.PupalContainerAmountView"
        type="com.runwaysdk.system.metadata.MdView" />
      <object
        key="dss.vector.solutions.entomology.PupalContainerView"
        type="com.runwaysdk.system.metadata.MdView" />
      <object
        key="dss.vector.solutions.entomology.PupalCollectionView"
        type="com.runwaysdk.system.metadata.MdView" />
      <object
        key="dss.vector.solutions.entomology.PupalContainerAmount"
        type="com.runwaysdk.system.metadata.MdRelationship" />
      <object
        key="dss.vector.solutions.entomology.PupalContainer"
        type="com.runwaysdk.system.metadata.MdBusiness" />
      <object
        key="dss.vector.solutions.entomology.PupalPremise"
        type="com.runwaysdk.system.metadata.MdBusiness" />
      <object
        key="dss.vector.solutions.entomology.PupalCollection"
        type="com.runwaysdk.system.metadata.MdBusiness" />
      <object
        key="dss.vector.solutions.entomology.ContainerShape"
        type="com.runwaysdk.system.metadata.MdEnumeration" />
      <object
        key="dss.vector.solutions.entomology.ContainerShapeMaster"
        type="com.runwaysdk.system.metadata.MdBusiness" />
    </delete>
  </undoIt>
</version>
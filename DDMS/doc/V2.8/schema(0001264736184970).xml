<!--
  Copyright (C) 2018 IVCC
  
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<version xsi:noNamespaceSchemaLocation="../../profiles/version_gis.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <doIt>
  
    <delete>
    </delete>
  
    <create>
    
      <mdProblem
        name="dss.vector.solutions.query.CountOfOneProblem"
        label="Count One Exception"
        description="Thrown when range generation specifies a count of one.">
      </mdProblem>    
      
      <mdException
        name="dss.vector.solutions.query.MissingBoundsException"
        label="Missing Bounds Exception"
        description="Thrown when a user doesn't specify either a lower or upper bounds for a range.">
      </mdException>
      
      <mdException
        name="dss.vector.solutions.query.LowerGreaterThanUpperBoundsException"
        label="Lower Greater Than Upper Bounds Exception"
        description="Thrown when a user specifies a lower bounds that is greater than the upper bounds.">
      </mdException>
    
      <mdView
        name="dss.vector.solutions.query.FreeText"
        label="Free Text"
        description="Represents free-form text on the map.">
        <attributes>
          <char
            name="customText"
            label="Text"
            required="true"
            size="50" />
          <char
            name="textFontFill"
            label="Text Font Color"
            description="The color of the text"
            required="true"
            defaultValue="#000000"
            size="7" />
          <char
            name="textFontFamily"
            label="Text Font Family"
            description="Text Font Family"
            required="true"
            defaultValue="Times New Roman"
            size="50" />
          <enumeration
            name="textFontStyles"
            label="Text Font Style"
            required="true"
            type="dss.vector.solutions.query.FontStyles"
            defaultValue="NORMAL" />
          <integer
            name="textFontSize"
            label="Text Font Size"
            description="Text Font Size"
            required="true"
            rejectNegative="true"
            defaultValue="14" />
        </attributes>
      </mdView>    
    
    </create>
    <update>
    
      <mdBusiness
        name="dss.vector.solutions.query.RangeCategory">
        <attributes>
          <char
            name="lowerBoundStr"
            required="false" />
           <char
            name="upperBoundStr"
            required="false" />           
        </attributes>
      </mdBusiness>    

      <mdBusiness
        name="dss.vector.solutions.query.Layer">
        <create>
          <attributes>
            <boolean
              name="enableLegend"
              label="Enable Legend"
              required="true"
              defaultValue="false"
              positiveLabel="true"
              negativeLabel="false" />
            <char
              name="legendTitle"
              label="Legend Title"
              required="true"
              size="50" />
            <char
              name="legendTitleFontFill"
              label="Legend Title Font Color"
              description="The color of the legend text"
              required="true"
              defaultValue="#000000"
              size="7" />
            <char
              name="legendTitleFontFamily"
              label="Legend Title Font Family"
              description="Legend Title Font Family"
              required="true"
              defaultValue="Times New Roman"
              size="50" />
            <enumeration
              name="legendTitleFontStyles"
              label="Legend Title Font Style"
              required="true"
              type="dss.vector.solutions.query.FontStyles"
              defaultValue="NORMAL" />
            <integer
              name="legendTitleFontSize"
              label="Legend Title Font Size"
              description="Legend Title Font Size"
              required="true"
              rejectNegative="true"
              defaultValue="14" />
            <char
              name="legendFontFill"
              label="Legend Font Color"
              description="The color of the legend text"
              required="true"
              defaultValue="#000000"
              size="7" />
            <char
              name="legendFontFamily"
              label="Legend Font Family"
              description="Legend Font Family"
              required="true"
              defaultValue="Times New Roman"
              size="50" />
            <enumeration
              name="legendFontStyles"
              label="Legend Font Style"
              required="true"
              type="dss.vector.solutions.query.FontStyles"
              defaultValue="NORMAL" />
            <integer
              name="legendFontSize"
              label="Legend Font Size"
              description="Legend Font Size"
              required="true"
              rejectNegative="true"
              defaultValue="14" />
            <boolean
              name="createRawLegend"
              label="Create Raw Legend"
              description="Denotes if a raw legend should be created without a thematic variable."
              required="true"
              defaultValue="false"
              positiveLabel="true"
              negativeLabel="false" />
            <boolean
              name="showLegendBorder"
              label="Show Legend Border"
              required="true"
              defaultValue="true"
              positiveLabel="true"
              negativeLabel="false" />
            <reference
              name="legendColor"
              label="Legend Color"
              description="The field used for the color value in the legend."
              required="true"
              type="com.runwaysdk.system.metadata.MdAttribute" />
          </attributes>
        </create>
      </mdBusiness>
      
      <mdController
        name="dss.vector.solutions.query.MappingController">
        <create>
          <mdAction
            name="addText"
            label="Add Text"
            description="Add Text"
            isPost="true">
          </mdAction>
          <mdAction
            name="setText"
            label="Set Text"
            description="Set Text"
            isPost="true">
          </mdAction>
        </create>
      </mdController>      
    
    </update>
  </doIt>
  <undoIt>
    <delete>
    
      <object
        key="dss.vector.solutions.query.CountOfOneProblem"
        type="com.runwaysdk.system.metadata.MdProblem"/>
      <object
        key="dss.vector.solutions.query.MissingBoundsException"
        type="com.runwaysdk.system.metadata.MdException"/>
      <object
        key="dss.vector.solutions.query.LowerGreaterThanUpperBoundsException"
        type="com.runwaysdk.system.metadata.MdException"/>
        
      <object
        key="dss.vector.solutions.query.MappingController.addText"
        type="com.runwaysdk.system.metadata.MdAction" />
        
      <object
        key="dss.vector.solutions.query.FreeText"
        type="com.runwaysdk.system.metadata.MdView"/>
    
      <object
        key="dss.vector.solutions.query.Layer.enableLegend"
        type="com.runwaysdk.system.metadata.MdAttribute"/>
      <object
        key="dss.vector.solutions.query.Layer.showLegendBorder"
        type="com.runwaysdk.system.metadata.MdAttribute"/>
      <object
        key="dss.vector.solutions.query.Layer.createRawLegend"
        type="com.runwaysdk.system.metadata.MdAttribute"/>
      <object
        key="dss.vector.solutions.query.Layer.legendTitle"
        type="com.runwaysdk.system.metadata.MdAttribute"/>
      <object
        key="dss.vector.solutions.query.Layer.legendTitleFontFill"
        type="com.runwaysdk.system.metadata.MdAttribute"/>
      <object
        key="dss.vector.solutions.query.Layer.legendTitleFontFamily"
        type="com.runwaysdk.system.metadata.MdAttribute"/>
      <object
        key="dss.vector.solutions.query.Layer.legendTitleFontStyles"
        type="com.runwaysdk.system.metadata.MdAttribute"/>
      <object
        key="dss.vector.solutions.query.Layer.legendTitleFontSize"
        type="com.runwaysdk.system.metadata.MdAttribute"/>
      <object
        key="dss.vector.solutions.query.Layer.legendFontFill"
        type="com.runwaysdk.system.metadata.MdAttribute"/>
      <object
        key="dss.vector.solutions.query.Layer.legendFontFamily"
        type="com.runwaysdk.system.metadata.MdAttribute"/>
      <object
        key="dss.vector.solutions.query.Layer.legendFontStyles"
        type="com.runwaysdk.system.metadata.MdAttribute"/>
      <object
        key="dss.vector.solutions.query.Layer.legendFontSize"
        type="com.runwaysdk.system.metadata.MdAttribute"/>
      <object
        key="dss.vector.solutions.query.Layer.legendColor"
        type="com.runwaysdk.system.metadata.MdAttribute"/>
    
    </delete>
  </undoIt>
</version>

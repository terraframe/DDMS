<version
  xsi:noNamespaceSchemaLocation="../../profiles/version_gis.xsd"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <doIt>
    <create>
      <mdBusiness
        name="dss.vector.solutions.intervention.monitor.ControlIntervention"
        label="Control Intervention"
        generateController="false">
        <attributes>
          <date
            name="startDate"
            label="Start Date"
            required="true"
            immutable="true" />
          <date
            name="endDate"
            label="End Date"
            required="true"
            immutable="true" />
          <reference
            name="geoEntity"
            label="Geo Entity"
            required="true"
            type="dss.vector.solutions.geo.generated.GeoEntity"
            immutable="true" />
          <text
            name="comments"
            label="Comments" />
          <reference
            name="individulPremiseUniversal"
            label="Individual premises unit visit aggregation universal"
            type="dss.vector.solutions.geo.GeoHierarchy" />
        </attributes>
        <mdMethod
          name="getView"
          label="Get View"
          returnType="dss.vector.solutions.intervention.monitor.ControlInterventionView"
          static="false" />
        <mdMethod
          name="lockView"
          label="lock View"
          returnType="dss.vector.solutions.intervention.monitor.ControlInterventionView"
          static="false" />
        <mdMethod
          name="unlockView"
          label="unlock View"
          returnType="dss.vector.solutions.intervention.monitor.ControlInterventionView"
          static="false" />
      </mdBusiness>

      <mdView
        name="dss.vector.solutions.intervention.monitor.ControlInterventionView"
        label="Control Intervention">
        <attributes>
          <char
            name="concreteId"
            label="ConcreteId"
            size="255"
            required="true" />
          <virtual
            concrete="startDate"
            type="dss.vector.solutions.intervention.monitor.ControlIntervention" />
          <virtual
            concrete="endDate"
            type="dss.vector.solutions.intervention.monitor.ControlIntervention" />
          <virtual
            concrete="geoEntity"
            type="dss.vector.solutions.intervention.monitor.ControlIntervention" />
          <virtual
            concrete="comments"
            type="dss.vector.solutions.intervention.monitor.ControlIntervention" />
          <virtual
            concrete="individulPremiseUniversal"
            type="dss.vector.solutions.intervention.monitor.ControlIntervention" />
        </attributes>
        <mdMethod
          name="getIndividualPremiseViews"
          label="Get Individual Premise Views"
          returnType="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitView[]"
          static="false" />        
        <mdMethod
          name="getMostRecent"
          label="Get Most Recent"
          static="true"
          returnType="dss.vector.solutions.intervention.monitor.ControlInterventionViewQuery" />
        <mdMethod
          name="search"
          label="search"
          static="true"
          returnType="dss.vector.solutions.intervention.monitor.ControlInterventionViewQuery">
          <mdParameter
            name="criteria"
            label="Criteria"
            order="0"
            type="dss.vector.solutions.intervention.monitor.ControlInterventionView" />
          <mdParameter
            name="sortAttribute"
            label="Sort Attribute"
            order="1"
            type="java.lang.String" />
          <mdParameter
            name="isAscending"
            label="Is Ascending"
            order="2"
            type="java.lang.Boolean" />
          <mdParameter
            name="pageSize"
            label="Page Size"
            order="3"
            type="java.lang.Integer" />
          <mdParameter
            name="pageNumber"
            label="Page Number"
            order="4"
            type="java.lang.Integer" />
        </mdMethod>
        <mdMethod
          name="applyWithIndividualPremiseViews"
          label="Get Individual Premise Views"
          returnType="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitView[]"
          static="false">
          <mdParameter
            name="premises"
            type="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitView[]"
            order="0"
            label="Premises" />
          <mdParameter
            name="methods"
            type="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitMethodView[][]"
            order="1"
            label="Methods" />
        </mdMethod>
        <mdMethod
          name="getIntervention"
          label="Get Intervention"
          returnType="dss.vector.solutions.intervention.monitor.ControlInterventionView"
          static="true">
          <mdParameter
            name="dto"
            label="dto"
            order="0"
            type="dss.vector.solutions.intervention.monitor.ControlInterventionView" />
        </mdMethod>
        <mdMethod
          name="deleteConcrete"
          label="Delete Concrete"
          returnType="void"
          static="false" />
      </mdView>

      <mdBusiness
        name="dss.vector.solutions.intervention.monitor.IndividualPremiseVisit"
        label="Individual Premises unit visit"
        generateController="false">
        <attributes>
          <reference
            name="point"
            label="Intervention Point"
            type="dss.vector.solutions.intervention.monitor.ControlIntervention" />
          <reference
            name="geoEntity"
            label="Geo Entity"
            required="true"
            type="dss.vector.solutions.geo.generated.GeoEntity" />
          <boolean
            name="visited"
            label="Visited"
            required="true"
            positiveLabel="Yes"
            negativeLabel="No"
            defaultValue="false" />
          <boolean
            name="treated"
            label="Treated"
            required="true"
            positiveLabel="Yes"
            negativeLabel="No"
            defaultValue="false" />
          <reference
            name="reasonsForNotTreated"
            label="Reason for Not Treated"
            type="dss.vector.solutions.ontology.Term" />
        </attributes>
      </mdBusiness>

      <mdTree
        name="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitMethod"
        label="Intervention Method Used"
        generateController="false">
        <attributes>
          <boolean
            name="used"
            label="Used"
            required="true"
            positiveLabel="Yes"
            negativeLabel="No"
            defaultValue="false" />
        </attributes>
        <parent
          cardinality="*"
          name="dss.vector.solutions.intervention.monitor.IndividualPremiseVisit"
          method="IndividualPremiseVisits" />
        <child
          cardinality="*"
          name="dss.vector.solutions.ontology.Term"
          method="InterventionMethods" />
      </mdTree>

      <mdView
        name="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitView"
        label="Individual Premises unit visit">
        <attributes>
          <char
            name="concreteId"
            label="Concrete Id"
            size="64"
            required="true" />
          <char
            name="entityLabel"
            label="Geo Entity"
            size="255"
            required="true" />
          <virtual
            concrete="point"
            type="dss.vector.solutions.intervention.monitor.IndividualPremiseVisit" />
          <virtual
            concrete="geoEntity"
            type="dss.vector.solutions.intervention.monitor.IndividualPremiseVisit" />
          <virtual
            concrete="visited"
            type="dss.vector.solutions.intervention.monitor.IndividualPremiseVisit" />
          <virtual
            concrete="treated"
            type="dss.vector.solutions.intervention.monitor.IndividualPremiseVisit" />
          <virtual
            concrete="reasonsForNotTreated"
            type="dss.vector.solutions.intervention.monitor.IndividualPremiseVisit" />
          <reference
            name="interventionMethod"
            label="Intervention Method Used"
            type="dss.vector.solutions.ontology.Term"
            required="true" />
        </attributes>
        <mdMethod
          name="getViews"
          label="get Views"
          static="true"
          returnType="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitView[]">
          <mdParameter
            name="criteria"
            label="Criteria"
            order="0"
            type="dss.vector.solutions.intervention.monitor.ControlInterventionView" />
        </mdMethod>
        <mdMethod
          name="getInterventionMethods"
          label="Get Intervention Methods"
          static="false"
          returnType="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitMethodView[]">
        </mdMethod>
        <mdMethod
          name="getInterventionMethodsForViews"
          label="Get Intervention Methods For Views"
          static="true"
          returnType="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitMethodView[][]">
          <mdParameter
            name="views"
            order="0"
            type="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitView[]"
            label="Views" />
        </mdMethod>
        <mdMethod
          name="applyAll"
          label="Apply All"
          returnType="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitView[]"
          static="true">
          <mdParameter
            name="views"
            order="0"
            type="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitView[]"
            label="Views" />
          <mdParameter
            name="methods"
            order="1"
            type="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitMethodView[][]"
            label="Methods" />
        </mdMethod>
      </mdView>

      <mdView
        name="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitMethodView"
        label="Intervention Method Used">
        <attributes>
          <reference
            name="visit"
            label="visit"
            type="dss.vector.solutions.intervention.monitor.IndividualPremiseVisit"
            required="true" />
          <reference
            name="term"
            label="Term"
            type="dss.vector.solutions.ontology.Term"
            required="true" />
          <boolean
            name="used"
            label="Used"
            required="true"
            positiveLabel="Yes"
            negativeLabel="No" />
        </attributes>
      </mdView>

      <object
        key="Ontology__dss.vector.solutions.intervention.monitor.IndividualPremiseVisitView.reasonsForNotTreated"
        type="dss.vector.solutions.ontology.BrowserField">
        <attributeReference
          name="mdAttribute"
          key="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitView.reasonsForNotTreated" />
      </object>

      <object
        key="Ontology__dss.vector.solutions.intervention.monitor.IndividualPremiseVisitView.interventionMethod"
        type="dss.vector.solutions.ontology.BrowserField">
        <attributeReference
          name="mdAttribute"
          key="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitView.interventionMethod" />
      </object>

      <mdController
        name="dss.vector.solutions.intervention.monitor.ControlInterventionController"
        label="Control Intervention Controller">
        <mdAction
          name="search"
          label="Search"
          isPost="false"
          isQuery="false" />
        <mdAction
          name="getIndividualPremise"
          label="Get Individual Premise Views"
          isPost="true"
          isQuery="false">
          <mdParameter
            name="view"
            label="View"
            order="0"
            type="dss.vector.solutions.intervention.monitor.ControlInterventionView" />
        </mdAction>
        <mdAction
          name="searchByView"
          label="Search By View"
          isPost="true"
          isQuery="true">
          <mdParameter
            name="view"
            label="View"
            order="0"
            type="dss.vector.solutions.intervention.monitor.ControlInterventionView" />
        </mdAction>
        <mdAction
          name="searchByParameters"
          label="Search by Parameters"
          isPost="false"
          isQuery="true">
          <mdParameter
            name="geoId"
            label="Geo Id"
            order="0"
            type="java.lang.String" />
          <mdParameter
            name="startDate"
            label="Start Date"
            order="1"
            type="java.util.Date" />
          <mdParameter
            name="endDate"
            label="End Date"
            order="2"
            type="java.util.Date" />
        </mdAction>
        <mdAction
          name="forward"
          label="Forward"
          isPost="true"
          isQuery="false">
          <mdParameter
            name="view"
            label="View"
            order="0"
            type="dss.vector.solutions.intervention.monitor.ControlInterventionView" />
        </mdAction>
        <mdAction
          name="delete"
          label="Delete"
          isPost="true"
          isQuery="false">
          <mdParameter
            name="view"
            label="View"
            order="0"
            type="dss.vector.solutions.intervention.monitor.ControlInterventionView" />
        </mdAction>
        <mdAction
          name="view"
          label="View"
          isPost="false"
          isQuery="false">
          <mdParameter
            name="id"
            label="Id"
            order="0"
            type="java.lang.String" />
        </mdAction>
      </mdController>
    </create>
  </doIt>
  <undoIt>
    <delete>
      <object
        key="Ontology__dss.vector.solutions.intervention.monitor.IndividualPremiseVisitView.reasonsForNotTreated"
        type="dss.vector.solutions.ontology.BrowserField" />
      <object
        key="Ontology__dss.vector.solutions.intervention.monitor.IndividualPremiseVisitView.interventionMethod"
        type="dss.vector.solutions.ontology.BrowserField" />
      <object
        key="dss.vector.solutions.intervention.monitor.ControlInterventionController"
        type="com.runwaysdk.system.metadata.MdController" />
      <object
        key="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitMethodView"
        type="com.runwaysdk.system.metadata.MdView" />
      <object
        key="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitView"
        type="com.runwaysdk.system.metadata.MdView" />
      <object
        key="dss.vector.solutions.intervention.monitor.IndividualPremiseVisitMethod"
        type="com.runwaysdk.system.metadata.MdRelationship" />
      <object
        key="dss.vector.solutions.intervention.monitor.IndividualPremiseVisit"
        type="com.runwaysdk.system.metadata.MdBusiness" />
      <object
        key="dss.vector.solutions.intervention.monitor.ControlInterventionView"
        type="com.runwaysdk.system.metadata.MdView" />
      <object
        key="dss.vector.solutions.intervention.monitor.ControlIntervention"
        type="com.runwaysdk.system.metadata.MdBusiness" />

    </delete>
  </undoIt>
</version>
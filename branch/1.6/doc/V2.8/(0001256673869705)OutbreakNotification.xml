<version
  xsi:noNamespaceSchemaLocation="../../profiles/version_gis.xsd"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <doIt>
    <update>
      <mdController
        name="dss.vector.solutions.general.ThresholdDataController">
        <create>
          <mdAction
            name="editThresholdConfiguration"
            label="Edit Threshold Configuration"
            isPost="false"
            isQuery="false" />
          <mdAction
            name="setThresholdConfiguration"
            label="Set Threshold Configuration"
            isPost="true"
            isQuery="false">
            <mdParameter
              name="universal"
              type="java.lang.String"
              label="universal"
              order="0" />
            <mdParameter
              name="calulationMethod"
              label="Calculation Method"
              order="1"
              type="java.lang.String" />
          </mdAction>
        </create>
      </mdController>
      <mdBusiness
        name="dss.vector.solutions.geo.GeoHierarchy">
        <create>
          <mdMethod
            name="getAllViews"
            label="Get all views"
            static="true"
            returnType="dss.vector.solutions.geo.GeoHierarchyView[]" />
        </create>
      </mdBusiness>
      <mdView
        name="dss.vector.solutions.general.ThresholdDataView">
        <create>
          <mdMethod
            name="setThresholdConfiguration"
            label="Set Threshold Configuration"
            returnType="void"
            static="true">
            <mdParameter
              name="universal"
              type="java.lang.String"
              label="universal"
              order="0" />
            <mdParameter
              name="calulationMethod"
              label="Calculation Method"
              order="1"
              type="java.lang.String" />
          </mdMethod>
        </create>
      </mdView>
    </update>
    <create>
      <enumerationMaster
        name="dss.vector.solutions.general.OutbreakCalculationMaster"
        generateController="false"
        label="Outbreak Calculation" />
      <object
        key="dss.vector.solutions.general.OutbreakCalculationMaster.EPI_WEEK"
        type="dss.vector.solutions.general.OutbreakCalculationMaster">
        <attribute
          name="enumName"
          value="EPI_WEEK" />
        <attributeStruct
          name="displayLabel">
          <attribute
            name="defaultLocale"
            value="Epi Week" />
        </attributeStruct>
      </object>
      <object
        key="dss.vector.solutions.general.OutbreakCalculationMaster.SLIDING_WEEK"
        type="dss.vector.solutions.general.OutbreakCalculationMaster">
        <attribute
          name="enumName"
          value="SLIDING_WEEK" />
        <attributeStruct
          name="displayLabel">
          <attribute
            name="defaultLocale"
            value="Sliding Week" />
        </attributeStruct>
      </object>
      <mdEnumeration
        name="dss.vector.solutions.general.OutbreakCalculation"
        type="dss.vector.solutions.general.OutbreakCalculationMaster"
        label="Outbreak Calculation">
        <includeAll />
      </mdEnumeration>
      <object
        type="dss.vector.solutions.Property"
        key="epidemicUniversal">
        <attribute
          name="propertyName"
          value="epidemicUniversal" />
        <attributeStruct
          name="displayLabel">
          <attribute
            name="defaultLocale"
            value="Level of epidemic" />
        </attributeStruct>
        <attribute
          name="propertyPackage"
          value="dss.vector.solutions" />
        <attribute
          name="propertyValue"
          value="null" />
        <attribute
          name="propertyType"
          value="String" />
        <attribute
          name="propertyValidator"
          value="^[a-z|A-Z|0-9]*$" />
        <attributeStruct
          name="description">
          <attribute
            name="defaultLocale"
            value="The universal level where an outbreak becomes and epidemic" />
        </attributeStruct>
      </object>
      <object
        type="dss.vector.solutions.Property"
        key="isEpiWeek">
        <attribute
          name="propertyName"
          value="isEpiWeek" />
        <attributeStruct
          name="displayLabel">
          <attribute
            name="defaultLocale"
            value="Is Epi Week" />
        </attributeStruct>
        <attribute
          name="propertyPackage"
          value="dss.vector.solutions" />
        <attribute
          name="propertyValue"
          value="EPI_WEEK" />
        <attribute
          name="propertyType"
          value="String" />
        <attribute
          name="propertyValidator"
          value="^[a-z|A-Z|0-9|_]*$" />
        <attributeStruct
          name="description">
          <attribute
            name="defaultLocale"
            value="Flag denoting if outbreak notification should use epi week or sliding week for calculations" />
        </attributeStruct>
      </object>

      <mdController
        name="dss.vector.solutions.FileController"
        label="File Controller">
        <mdAction
          name="exportToFile"
          label="Export to File"
          isPost="true">
          <mdParameter
            name="message"
            label="Message"
            order="0"
            type="java.lang.String" />
          <mdParameter
            name="fileName"
            label="File Name"
            order="1"
            type="java.lang.String" />
        </mdAction>
      </mdController>

      <mdProblem
        name="dss.vector.solutions.general.ThresholdValueProblem"
        label="Threshold Value Problem"
        description="Threshold value must be a positive number"
        extends="dss.vector.solutions.NotificationProblem">
        <attributes>
          <char
            name="entityLabel"
            label="Geo Entity"
            size="255" />
          <double
            name="threshold"
            label="Threshold"
            length="12"
            decimal="2" />
        </attributes>
      </mdProblem>
    </create>
  </doIt>
  <undoIt>
    <delete>

      <object
        key="isEpiWeek"
        type="dss.vector.solutions.Property" />
      <object
        key="epidemicUniversal"
        type="dss.vector.solutions.Property" />
      <object
        key="dss.vector.solutions.general.ThresholdValueProblem"
        type="com.runwaysdk.system.metadata.MdProblem" />
      <object
        key="dss.vector.solutions.FileController"
        type="com.runwaysdk.system.metadata.MdController" />
      <object
        key="dss.vector.solutions.general.OutbreakCalculationMaster"
        type="com.runwaysdk.system.metadata.MdBusiness" />
      <object
        key="dss.vector.solutions.general.OutbreakCalculation"
        type="com.runwaysdk.system.metadata.MdEnumeration" />
      <object
        key="dss.vector.solutions.geo.GeoHierarchy.getAllViews"
        type="com.runwaysdk.system.metadata.MdMethod" />
      <object
        key="dss.vector.solutions.general.ThresholdDataView.setThresholdConfiguration"
        type="com.runwaysdk.system.metadata.MdMethod" />
      <object
        key="dss.vector.solutions.general.ThresholdDataController.setThresholdConfiguration"
        type="com.runwaysdk.system.metadata.MdAction" />
      <object
        key="dss.vector.solutions.general.ThresholdDataController.editThresholdConfiguration"
        type="com.runwaysdk.system.metadata.MdAction" />
    </delete>
  </undoIt>
</version>
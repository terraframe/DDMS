<version xsi:noNamespaceSchemaLocation="../../profiles/version_gis.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <doIt>
    <create>
      <mdBusiness name="dss.vector.solutions.kaleidoscope.dashboard.DashboardJob" label="Dashboard job" extends="com.runwaysdk.system.scheduler.ExecutableJob" generateController="false">
        <attributes>
          <char name="jobName" label="Job name" required="true" indexType="unique index" size="255" />
          <char name="viewName" label="Job name" required="true" indexType="unique index" size="255" />
          <reference name="layer" label="Layer" required="true" type="dss.vector.solutions.kaleidoscope.dashboard.layer.DashboardLayer" indexType="unique index" />
          <reference name="dashboard" label="Dashboard" required="true" type="dss.vector.solutions.kaleidoscope.dashboard.Dashboard" indexType="unique index" />
          <integer name="imageWidth" label="Image width" required="true" defaultValue="773" />
          <integer name="imageHeight" label="Image height" required="true" defaultValue="1000" />
        </attributes>
        <mdMethod name="getJSON" label="Get JSON" returnType="java.lang.String" static="true">
          <mdParameter name="id" label="Id" order="0" type="java.lang.String"/>
        </mdMethod>
        <mdMethod name="applyJSON" label="Apply JSON" returnType="void" static="true">
          <mdParameter name="json" label="JSON" order="0" type="java.lang.String"/>
        </mdMethod>
        
      </mdBusiness>
      <mdBusiness name="dss.vector.solutions.kaleidoscope.dashboard.GeneratedDashboard" label="Generated dashboard" generateController="false">
        <attributes>
          <blob name="mapImage" label="Map image" />
          <reference name="dashboard" label="Dashboard" type="dss.vector.solutions.kaleidoscope.dashboard.Dashboard" required="true" />
          <char name="cycleLayerName" label="Dashboard layer name" size="255" required="true" />
          <char name="cycleUniversal" label="Dashboard universal name" size="255" required="true" />
          <char name="filterGeoEntityName" label="Filter geo entity name" size="255" required="true" />
          <char name="filterGeoId" label="Filter geo entity ID" size="255" required="true" />
          <reference name="disease" label="Disease" type="dss.vector.solutions.general.Disease" required="true" />
        </attributes>
      </mdBusiness>    
    </create>
  </doIt>
  <undoIt>
    <delete>
      <object key="dss.vector.solutions.kaleidoscope.dashboard.GeneratedDashboard" type="com.runwaysdk.system.metadata.MdBusiness"/>
      <object key="dss.vector.solutions.kaleidoscope.dashboard.DashboardJob" type="com.runwaysdk.system.metadata.MdBusiness"/>
    </delete>
  </undoIt>
</version>
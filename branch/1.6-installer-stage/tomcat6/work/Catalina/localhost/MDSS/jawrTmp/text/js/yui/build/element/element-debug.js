
YAHOO.util.Attribute=function(hash,owner){if(owner){this.owner=owner;this.configure(hash,true);}};YAHOO.util.Attribute.prototype={name:undefined,value:null,owner:null,readOnly:false,writeOnce:false,_initialConfig:null,_written:false,method:null,setter:null,getter:null,validator:null,getValue:function(){var val=this.value;if(this.getter){val=this.getter.call(this.owner,this.name,val);}
return val;},setValue:function(value,silent){var beforeRetVal,owner=this.owner,name=this.name;var event={type:name,prevValue:this.getValue(),newValue:value};if(this.readOnly||(this.writeOnce&&this._written)){YAHOO.log('setValue '+name+', '+value+' failed: read only','error','Attribute');return false;}
if(this.validator&&!this.validator.call(owner,value)){YAHOO.log('setValue '+name+', '+value+' validation failed','error','Attribute');return false;}
if(!silent){beforeRetVal=owner.fireBeforeChangeEvent(event);if(beforeRetVal===false){YAHOO.log('setValue '+name+' cancelled by beforeChange event','info','Attribute');return false;}}
if(this.setter){value=this.setter.call(owner,value,this.name);if(value===undefined){YAHOO.log('setter for '+this.name+' returned undefined','warn','Attribute');}}
if(this.method){this.method.call(owner,value,this.name);}
this.value=value;this._written=true;event.type=name;if(!silent){this.owner.fireChangeEvent(event);}
return true;},configure:function(map,init){map=map||{};if(init){this._written=false;}
this._initialConfig=this._initialConfig||{};for(var key in map){if(map.hasOwnProperty(key)){this[key]=map[key];if(init){this._initialConfig[key]=map[key];}}}},resetValue:function(){return this.setValue(this._initialConfig.value);},resetConfig:function(){this.configure(this._initialConfig,true);},refresh:function(silent){this.setValue(this.value,silent);}};(function(){var Lang=YAHOO.util.Lang;YAHOO.util.AttributeProvider=function(){};YAHOO.util.AttributeProvider.prototype={_configs:null,get:function(key){this._configs=this._configs||{};var config=this._configs[key];if(!config||!this._configs.hasOwnProperty(key)){YAHOO.log(key+' not found','error','AttributeProvider');return null;}
return config.getValue();},set:function(key,value,silent){this._configs=this._configs||{};var config=this._configs[key];if(!config){YAHOO.log('set failed: '+key+' not found','error','AttributeProvider');return false;}
return config.setValue(value,silent);},getAttributeKeys:function(){this._configs=this._configs;var keys=[],key;for(key in this._configs){if(Lang.hasOwnProperty(this._configs,key)&&!Lang.isUndefined(this._configs[key])){keys[keys.length]=key;}}
return keys;},setAttributes:function(map,silent){for(var key in map){if(Lang.hasOwnProperty(map,key)){this.set(key,map[key],silent);}}},resetValue:function(key,silent){this._configs=this._configs||{};if(this._configs[key]){this.set(key,this._configs[key]._initialConfig.value,silent);return true;}
return false;},refresh:function(key,silent){this._configs=this._configs||{};var configs=this._configs;key=((Lang.isString(key))?[key]:key)||this.getAttributeKeys();for(var i=0,len=key.length;i<len;++i){if(configs.hasOwnProperty(key[i])){this._configs[key[i]].refresh(silent);}}},register:function(key,map){this.setAttributeConfig(key,map);},getAttributeConfig:function(key){this._configs=this._configs||{};var config=this._configs[key]||{};var map={};for(key in config){if(Lang.hasOwnProperty(config,key)){map[key]=config[key];}}
return map;},setAttributeConfig:function(key,map,init){this._configs=this._configs||{};map=map||{};if(!this._configs[key]){map.name=key;this._configs[key]=this.createAttribute(map);}else{this._configs[key].configure(map,init);}},configureAttribute:function(key,map,init){this.setAttributeConfig(key,map,init);},resetAttributeConfig:function(key){this._configs=this._configs||{};this._configs[key].resetConfig();},subscribe:function(type,callback){this._events=this._events||{};if(!(type in this._events)){this._events[type]=this.createEvent(type);}
YAHOO.util.EventProvider.prototype.subscribe.apply(this,arguments);},on:function(){this.subscribe.apply(this,arguments);},addListener:function(){this.subscribe.apply(this,arguments);},fireBeforeChangeEvent:function(e){var type='before';type+=e.type.charAt(0).toUpperCase()+e.type.substr(1)+'Change';e.type=type;return this.fireEvent(e.type,e);},fireChangeEvent:function(e){e.type+='Change';return this.fireEvent(e.type,e);},createAttribute:function(map){return new YAHOO.util.Attribute(map,this);}};YAHOO.augment(YAHOO.util.AttributeProvider,YAHOO.util.EventProvider);})();(function(){var Dom=YAHOO.util.Dom,AttributeProvider=YAHOO.util.AttributeProvider,specialTypes={mouseenter:true,mouseleave:true};var Element=function(el,map){this.init.apply(this,arguments);};Element.DOM_EVENTS={'click':true,'dblclick':true,'keydown':true,'keypress':true,'keyup':true,'mousedown':true,'mousemove':true,'mouseout':true,'mouseover':true,'mouseup':true,'mouseenter':true,'mouseleave':true,'focus':true,'blur':true,'submit':true,'change':true};Element.prototype={DOM_EVENTS:null,DEFAULT_HTML_SETTER:function(value,key){var el=this.get('element');if(el){el[key]=value;}
return value;},DEFAULT_HTML_GETTER:function(key){var el=this.get('element'),val;if(el){val=el[key];}
return val;},appendChild:function(child){child=child.get?child.get('element'):child;return this.get('element').appendChild(child);},getElementsByTagName:function(tag){return this.get('element').getElementsByTagName(tag);},hasChildNodes:function(){return this.get('element').hasChildNodes();},insertBefore:function(element,before){element=element.get?element.get('element'):element;before=(before&&before.get)?before.get('element'):before;return this.get('element').insertBefore(element,before);},removeChild:function(child){child=child.get?child.get('element'):child;return this.get('element').removeChild(child);},replaceChild:function(newNode,oldNode){newNode=newNode.get?newNode.get('element'):newNode;oldNode=oldNode.get?oldNode.get('element'):oldNode;return this.get('element').replaceChild(newNode,oldNode);},initAttributes:function(map){},addListener:function(type,fn,obj,scope){scope=scope||this;var Event=YAHOO.util.Event,el=this.get('element')||this.get('id'),self=this;if(specialTypes[type]&&!Event._createMouseDelegate){YAHOO.log("Using a "+type+" event requires the event-mouseenter module","error","Event");return false;}
if(!this._events[type]){if(el&&this.DOM_EVENTS[type]){Event.on(el,type,function(e,matchedEl){if(e.srcElement&&!e.target){e.target=e.srcElement;}
if((e.toElement&&!e.relatedTarget)||(e.fromElement&&!e.relatedTarget)){e.relatedTarget=Event.getRelatedTarget(e);}
if(!e.currentTarget){e.currentTarget=el;}
self.fireEvent(type,e,matchedEl);},obj,scope);}
this.createEvent(type,{scope:this});}
return YAHOO.util.EventProvider.prototype.subscribe.apply(this,arguments);},on:function(){return this.addListener.apply(this,arguments);},subscribe:function(){return this.addListener.apply(this,arguments);},removeListener:function(type,fn){return this.unsubscribe.apply(this,arguments);},addClass:function(className){Dom.addClass(this.get('element'),className);},getElementsByClassName:function(className,tag){return Dom.getElementsByClassName(className,tag,this.get('element'));},hasClass:function(className){return Dom.hasClass(this.get('element'),className);},removeClass:function(className){return Dom.removeClass(this.get('element'),className);},replaceClass:function(oldClassName,newClassName){return Dom.replaceClass(this.get('element'),oldClassName,newClassName);},setStyle:function(property,value){return Dom.setStyle(this.get('element'),property,value);},getStyle:function(property){return Dom.getStyle(this.get('element'),property);},fireQueue:function(){var queue=this._queue;for(var i=0,len=queue.length;i<len;++i){this[queue[i][0]].apply(this,queue[i][1]);}},appendTo:function(parent,before){parent=(parent.get)?parent.get('element'):Dom.get(parent);this.fireEvent('beforeAppendTo',{type:'beforeAppendTo',target:parent});before=(before&&before.get)?before.get('element'):Dom.get(before);var element=this.get('element');if(!element){YAHOO.log('appendTo failed: element not available','error','Element');return false;}
if(!parent){YAHOO.log('appendTo failed: parent not available','error','Element');return false;}
if(element.parent!=parent){if(before){parent.insertBefore(element,before);}else{parent.appendChild(element);}}
YAHOO.log(element+'appended to '+parent);this.fireEvent('appendTo',{type:'appendTo',target:parent});return element;},get:function(key){var configs=this._configs||{},el=configs.element;if(el&&!configs[key]&&!YAHOO.lang.isUndefined(el.value[key])){this._setHTMLAttrConfig(key);}
return AttributeProvider.prototype.get.call(this,key);},setAttributes:function(map,silent){var done={},configOrder=this._configOrder;for(var i=0,len=configOrder.length;i<len;++i){if(map[configOrder[i]]!==undefined){done[configOrder[i]]=true;this.set(configOrder[i],map[configOrder[i]],silent);}}
for(var att in map){if(map.hasOwnProperty(att)&&!done[att]){this.set(att,map[att],silent);}}},set:function(key,value,silent){var el=this.get('element');if(!el){this._queue[this._queue.length]=['set',arguments];if(this._configs[key]){this._configs[key].value=value;}
return;}
if(!this._configs[key]&&!YAHOO.lang.isUndefined(el[key])){this._setHTMLAttrConfig(key);}
return AttributeProvider.prototype.set.apply(this,arguments);},setAttributeConfig:function(key,map,init){this._configOrder.push(key);AttributeProvider.prototype.setAttributeConfig.apply(this,arguments);},createEvent:function(type,config){this._events[type]=true;return AttributeProvider.prototype.createEvent.apply(this,arguments);},init:function(el,attr){this._initElement(el,attr);},destroy:function(){var el=this.get('element');YAHOO.util.Event.purgeElement(el,true);this.unsubscribeAll();if(el&&el.parentNode){el.parentNode.removeChild(el);}
this._queue=[];this._events={};this._configs={};this._configOrder=[];},_initElement:function(el,attr){this._queue=this._queue||[];this._events=this._events||{};this._configs=this._configs||{};this._configOrder=[];attr=attr||{};attr.element=attr.element||el||null;var isReady=false;var DOM_EVENTS=Element.DOM_EVENTS;this.DOM_EVENTS=this.DOM_EVENTS||{};for(var event in DOM_EVENTS){if(DOM_EVENTS.hasOwnProperty(event)){this.DOM_EVENTS[event]=DOM_EVENTS[event];}}
if(typeof attr.element==='string'){this._setHTMLAttrConfig('id',{value:attr.element});}
if(Dom.get(attr.element)){isReady=true;this._initHTMLElement(attr);this._initContent(attr);}
YAHOO.util.Event.onAvailable(attr.element,function(){if(!isReady){this._initHTMLElement(attr);}
this.fireEvent('available',{type:'available',target:Dom.get(attr.element)});},this,true);YAHOO.util.Event.onContentReady(attr.element,function(){if(!isReady){this._initContent(attr);}
this.fireEvent('contentReady',{type:'contentReady',target:Dom.get(attr.element)});},this,true);},_initHTMLElement:function(attr){this.setAttributeConfig('element',{value:Dom.get(attr.element),readOnly:true});},_initContent:function(attr){this.initAttributes(attr);this.setAttributes(attr,true);this.fireQueue();},_setHTMLAttrConfig:function(key,map){var el=this.get('element');map=map||{};map.name=key;map.setter=map.setter||this.DEFAULT_HTML_SETTER;map.getter=map.getter||this.DEFAULT_HTML_GETTER;map.value=map.value||el[key];this._configs[key]=new YAHOO.util.Attribute(map,this);}};YAHOO.augment(Element,AttributeProvider);YAHOO.util.Element=Element;})();YAHOO.register("element",YAHOO.util.Element,{version:"2.8.0r4",build:"2449"});

YAHOO.util.Color=function(){var ZERO="0",isArray=YAHOO.lang.isArray,isNumber=YAHOO.lang.isNumber;return{real2dec:function(n){return Math.min(255,Math.round(n*256));},hsv2rgb:function(h,s,v){if(isArray(h)){return this.hsv2rgb.call(this,h[0],h[1],h[2]);}
var r,g,b,i=Math.floor((h/60)%6),f=(h/60)-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),fn;switch(i){case 0:r=v;g=t;b=p;break;case 1:r=q;g=v;b=p;break;case 2:r=p;g=v;b=t;break;case 3:r=p;g=q;b=v;break;case 4:r=t;g=p;b=v;break;case 5:r=v;g=p;b=q;break;}
fn=this.real2dec;return[fn(r),fn(g),fn(b)];},rgb2hsv:function(r,g,b){if(isArray(r)){return this.rgb2hsv.apply(this,r);}
r/=255;g/=255;b/=255;var h,s,min=Math.min(Math.min(r,g),b),max=Math.max(Math.max(r,g),b),delta=max-min,hsv;switch(max){case min:h=0;break;case r:h=60*(g-b)/delta;if(g<b){h+=360;}
break;case g:h=(60*(b-r)/delta)+120;break;case b:h=(60*(r-g)/delta)+240;break;}
s=(max===0)?0:1-(min/max);hsv=[Math.round(h),s,max];return hsv;},rgb2hex:function(r,g,b){if(isArray(r)){return this.rgb2hex.apply(this,r);}
var f=this.dec2hex;return f(r)+f(g)+f(b);},dec2hex:function(n){n=parseInt(n,10)|0;n=(n>255||n<0)?0:n;return(ZERO+n.toString(16)).slice(-2).toUpperCase();},hex2dec:function(str){return parseInt(str,16);},hex2rgb:function(s){var f=this.hex2dec;return[f(s.slice(0,2)),f(s.slice(2,4)),f(s.slice(4,6))];},websafe:function(r,g,b){if(isArray(r)){return this.websafe.apply(this,r);}
var f=function(v){if(isNumber(v)){v=Math.min(Math.max(0,v),255);var i,next;for(i=0;i<256;i=i+51){next=i+51;if(v>=i&&v<=next){return(v-i>25)?next:i;}}
YAHOO.log("Error calculating the websafe value for "+v,"warn");}
return v;};return[f(r),f(g),f(b)];}};}();(function(){var _pickercount=0,util=YAHOO.util,lang=YAHOO.lang,Slider=YAHOO.widget.Slider,Color=util.Color,Dom=util.Dom,Event=util.Event,sub=lang.substitute,b="yui-picker";function ColorPicker(el,attr){_pickercount=_pickercount+1;this.logger=new YAHOO.widget.LogWriter("ColorPicker");attr=attr||{};if(arguments.length===1&&!YAHOO.lang.isString(el)&&!el.nodeName){attr=el;el=attr.element||null;}
if(!el&&!attr.element){this.logger.log("creating host element");el=this._createHostElement(attr);}
ColorPicker.superclass.constructor.call(this,el,attr);this.initPicker();}
YAHOO.extend(ColorPicker,YAHOO.util.Element,{ID:{R:b+"-r",R_HEX:b+"-rhex",G:b+"-g",G_HEX:b+"-ghex",B:b+"-b",B_HEX:b+"-bhex",H:b+"-h",S:b+"-s",V:b+"-v",PICKER_BG:b+"-bg",PICKER_THUMB:b+"-thumb",HUE_BG:b+"-hue-bg",HUE_THUMB:b+"-hue-thumb",HEX:b+"-hex",SWATCH:b+"-swatch",WEBSAFE_SWATCH:b+"-websafe-swatch",CONTROLS:b+"-controls",RGB_CONTROLS:b+"-rgb-controls",HSV_CONTROLS:b+"-hsv-controls",HEX_CONTROLS:b+"-hex-controls",HEX_SUMMARY:b+"-hex-summary",CONTROLS_LABEL:b+"-controls-label"},TXT:{ILLEGAL_HEX:"Illegal hex value entered",SHOW_CONTROLS:"Show color details",HIDE_CONTROLS:"Hide color details",CURRENT_COLOR:"Currently selected color: {rgb}",CLOSEST_WEBSAFE:"Closest websafe color: {rgb}. Click to select.",R:"R",G:"G",B:"B",H:"H",S:"S",V:"V",HEX:"#",DEG:"\u00B0",PERCENT:"%"},IMAGE:{PICKER_THUMB:"../../build/colorpicker/assets/picker_thumb.png",HUE_THUMB:"../../build/colorpicker/assets/hue_thumb.png"},DEFAULT:{PICKER_SIZE:180},OPT:{HUE:"hue",SATURATION:"saturation",VALUE:"value",RED:"red",GREEN:"green",BLUE:"blue",HSV:"hsv",RGB:"rgb",WEBSAFE:"websafe",HEX:"hex",PICKER_SIZE:"pickersize",SHOW_CONTROLS:"showcontrols",SHOW_RGB_CONTROLS:"showrgbcontrols",SHOW_HSV_CONTROLS:"showhsvcontrols",SHOW_HEX_CONTROLS:"showhexcontrols",SHOW_HEX_SUMMARY:"showhexsummary",SHOW_WEBSAFE:"showwebsafe",CONTAINER:"container",IDS:"ids",ELEMENTS:"elements",TXT:"txt",IMAGES:"images",ANIMATE:"animate"},skipAnim:true,_createHostElement:function(){var el=document.createElement('div');if(this.CSS.BASE){el.className=this.CSS.BASE;}
return el;},_updateHueSlider:function(){var size=this.get(this.OPT.PICKER_SIZE),h=this.get(this.OPT.HUE);h=size-Math.round(h/360*size);if(h===size){h=0;}
this.logger.log("Hue slider is being set to "+h);this.hueSlider.setValue(h,this.skipAnim);},_updatePickerSlider:function(){var size=this.get(this.OPT.PICKER_SIZE),s=this.get(this.OPT.SATURATION),v=this.get(this.OPT.VALUE);s=Math.round(s*size/100);v=Math.round(size-(v*size/100));this.logger.log("Setting picker slider to "+[s,v]);this.pickerSlider.setRegionValue(s,v,this.skipAnim);},_updateSliders:function(){this._updateHueSlider();this._updatePickerSlider();},setValue:function(rgb,silent){silent=(silent)||false;this.set(this.OPT.RGB,rgb,silent);this._updateSliders();},hueSlider:null,pickerSlider:null,_getH:function(){var size=this.get(this.OPT.PICKER_SIZE),h=(size-this.hueSlider.getValue())/size;h=Math.round(h*360);return(h===360)?0:h;},_getS:function(){return this.pickerSlider.getXValue()/this.get(this.OPT.PICKER_SIZE);},_getV:function(){var size=this.get(this.OPT.PICKER_SIZE);return(size-this.pickerSlider.getYValue())/size;},_updateSwatch:function(){var rgb=this.get(this.OPT.RGB),websafe=this.get(this.OPT.WEBSAFE),el=this.getElement(this.ID.SWATCH),color=rgb.join(","),txt=this.get(this.OPT.TXT);Dom.setStyle(el,"background-color","rgb("+color+")");el.title=sub(txt.CURRENT_COLOR,{"rgb":"#"+this.get(this.OPT.HEX)});el=this.getElement(this.ID.WEBSAFE_SWATCH);color=websafe.join(",");Dom.setStyle(el,"background-color","rgb("+color+")");el.title=sub(txt.CLOSEST_WEBSAFE,{"rgb":"#"+Color.rgb2hex(websafe)});},_getValuesFromSliders:function(){this.logger.log("hsv "+[this._getH(),this._getS(),this._getV()]);this.set(this.OPT.RGB,Color.hsv2rgb(this._getH(),this._getS(),this._getV()));},_updateFormFields:function(){this.getElement(this.ID.H).value=this.get(this.OPT.HUE);this.getElement(this.ID.S).value=this.get(this.OPT.SATURATION);this.getElement(this.ID.V).value=this.get(this.OPT.VALUE);this.getElement(this.ID.R).value=this.get(this.OPT.RED);this.getElement(this.ID.R_HEX).innerHTML=Color.dec2hex(this.get(this.OPT.RED));this.getElement(this.ID.G).value=this.get(this.OPT.GREEN);this.getElement(this.ID.G_HEX).innerHTML=Color.dec2hex(this.get(this.OPT.GREEN));this.getElement(this.ID.B).value=this.get(this.OPT.BLUE);this.getElement(this.ID.B_HEX).innerHTML=Color.dec2hex(this.get(this.OPT.BLUE));this.getElement(this.ID.HEX).value=this.get(this.OPT.HEX);},_onHueSliderChange:function(newOffset){this.logger.log("hue update: "+newOffset,"warn");var h=this._getH(),rgb=Color.hsv2rgb(h,1,1),styleDef="rgb("+rgb.join(",")+")";this.set(this.OPT.HUE,h,true);Dom.setStyle(this.getElement(this.ID.PICKER_BG),"background-color",styleDef);if(this.hueSlider.valueChangeSource!==Slider.SOURCE_SET_VALUE){this._getValuesFromSliders();}
this._updateFormFields();this._updateSwatch();},_onPickerSliderChange:function(newOffset){this.logger.log(sub("picker update [{x}, {y}]",newOffset));var s=this._getS(),v=this._getV();this.set(this.OPT.SATURATION,Math.round(s*100),true);this.set(this.OPT.VALUE,Math.round(v*100),true);if(this.pickerSlider.valueChangeSource!==Slider.SOURCE_SET_VALUE){this._getValuesFromSliders();}
this._updateFormFields();this._updateSwatch();},_getCommand:function(e){var c=Event.getCharCode(e);if(c===38){return 3;}else if(c===13){return 6;}else if(c===40){return 4;}else if(c>=48&&c<=57){return 1;}else if(c>=97&&c<=102){return 2;}else if(c>=65&&c<=70){return 2;}else if("8, 9, 13, 27, 37, 39".indexOf(c)>-1||e.ctrlKey||e.metaKey){return 5;}else{return 0;}},_useFieldValue:function(e,el,prop){var val=el.value;if(prop!==this.OPT.HEX){val=parseInt(val,10);}
if(val!==this.get(prop)){this.set(prop,val);}},_rgbFieldKeypress:function(e,el,prop){var command=this._getCommand(e),inc=(e.shiftKey)?10:1;switch(command){case 6:this._useFieldValue.apply(this,arguments);break;case 3:this.set(prop,Math.min(this.get(prop)+inc,255));this._updateFormFields();break;case 4:this.set(prop,Math.max(this.get(prop)-inc,0));this._updateFormFields();break;default:}},_hexFieldKeypress:function(e,el,prop){var command=this._getCommand(e);if(command===6){this._useFieldValue.apply(this,arguments);}},_hexOnly:function(e,numbersOnly){var command=this._getCommand(e);switch(command){case 6:case 5:case 1:break;case 2:if(numbersOnly!==true){break;}
default:Event.stopEvent(e);return false;}},_numbersOnly:function(e){return this._hexOnly(e,true);},getElement:function(id){return this.get(this.OPT.ELEMENTS)[this.get(this.OPT.IDS)[id]];},_createElements:function(){this.logger.log("Building markup");var el,child,img,fld,p,ids=this.get(this.OPT.IDS),txt=this.get(this.OPT.TXT),images=this.get(this.OPT.IMAGES),Elem=function(type,o){var n=document.createElement(type);if(o){lang.augmentObject(n,o,true);}
return n;},RGBElem=function(type,obj){var o=lang.merge({autocomplete:"off",value:"0",size:3,maxlength:3},obj);o.name=o.id;return new Elem(type,o);};p=this.get("element");el=new Elem("div",{id:ids[this.ID.PICKER_BG],className:"yui-picker-bg",tabIndex:-1,hideFocus:true});child=new Elem("div",{id:ids[this.ID.PICKER_THUMB],className:"yui-picker-thumb"});img=new Elem("img",{src:images.PICKER_THUMB});child.appendChild(img);el.appendChild(child);p.appendChild(el);el=new Elem("div",{id:ids[this.ID.HUE_BG],className:"yui-picker-hue-bg",tabIndex:-1,hideFocus:true});child=new Elem("div",{id:ids[this.ID.HUE_THUMB],className:"yui-picker-hue-thumb"});img=new Elem("img",{src:images.HUE_THUMB});child.appendChild(img);el.appendChild(child);p.appendChild(el);el=new Elem("div",{id:ids[this.ID.CONTROLS],className:"yui-picker-controls"});p.appendChild(el);p=el;el=new Elem("div",{className:"hd"});child=new Elem("a",{id:ids[this.ID.CONTROLS_LABEL],href:"#"});el.appendChild(child);p.appendChild(el);el=new Elem("div",{className:"bd"});p.appendChild(el);p=el;el=new Elem("ul",{id:ids[this.ID.RGB_CONTROLS],className:"yui-picker-rgb-controls"});child=new Elem("li");child.appendChild(document.createTextNode(txt.R+" "));fld=new RGBElem("input",{id:ids[this.ID.R],className:"yui-picker-r"});child.appendChild(fld);el.appendChild(child);child=new Elem("li");child.appendChild(document.createTextNode(txt.G+" "));fld=new RGBElem("input",{id:ids[this.ID.G],className:"yui-picker-g"});child.appendChild(fld);el.appendChild(child);child=new Elem("li");child.appendChild(document.createTextNode(txt.B+" "));fld=new RGBElem("input",{id:ids[this.ID.B],className:"yui-picker-b"});child.appendChild(fld);el.appendChild(child);p.appendChild(el);el=new Elem("ul",{id:ids[this.ID.HSV_CONTROLS],className:"yui-picker-hsv-controls"});child=new Elem("li");child.appendChild(document.createTextNode(txt.H+" "));fld=new RGBElem("input",{id:ids[this.ID.H],className:"yui-picker-h"});child.appendChild(fld);child.appendChild(document.createTextNode(" "+txt.DEG));el.appendChild(child);child=new Elem("li");child.appendChild(document.createTextNode(txt.S+" "));fld=new RGBElem("input",{id:ids[this.ID.S],className:"yui-picker-s"});child.appendChild(fld);child.appendChild(document.createTextNode(" "+txt.PERCENT));el.appendChild(child);child=new Elem("li");child.appendChild(document.createTextNode(txt.V+" "));fld=new RGBElem("input",{id:ids[this.ID.V],className:"yui-picker-v"});child.appendChild(fld);child.appendChild(document.createTextNode(" "+txt.PERCENT));el.appendChild(child);p.appendChild(el);el=new Elem("ul",{id:ids[this.ID.HEX_SUMMARY],className:"yui-picker-hex_summary"});child=new Elem("li",{id:ids[this.ID.R_HEX]});el.appendChild(child);child=new Elem("li",{id:ids[this.ID.G_HEX]});el.appendChild(child);child=new Elem("li",{id:ids[this.ID.B_HEX]});el.appendChild(child);p.appendChild(el);el=new Elem("div",{id:ids[this.ID.HEX_CONTROLS],className:"yui-picker-hex-controls"});el.appendChild(document.createTextNode(txt.HEX+" "));child=new RGBElem("input",{id:ids[this.ID.HEX],className:"yui-picker-hex",size:6,maxlength:6});el.appendChild(child);p.appendChild(el);p=this.get("element");el=new Elem("div",{id:ids[this.ID.SWATCH],className:"yui-picker-swatch"});p.appendChild(el);el=new Elem("div",{id:ids[this.ID.WEBSAFE_SWATCH],className:"yui-picker-websafe-swatch"});p.appendChild(el);},_attachRGBHSV:function(id,config){Event.on(this.getElement(id),"keydown",function(e,me){me._rgbFieldKeypress(e,this,config);},this);Event.on(this.getElement(id),"keypress",this._numbersOnly,this,true);Event.on(this.getElement(id),"blur",function(e,me){me._useFieldValue(e,this,config);},this);},_updateRGB:function(){var rgb=[this.get(this.OPT.RED),this.get(this.OPT.GREEN),this.get(this.OPT.BLUE)];this.logger.log("RGB value set to "+rgb);this.set(this.OPT.RGB,rgb);this._updateSliders();},_initElements:function(){var o=this.OPT,ids=this.get(o.IDS),els=this.get(o.ELEMENTS),i,el,id;for(i in this.ID){if(lang.hasOwnProperty(this.ID,i)){ids[this.ID[i]]=ids[i];}}
el=Dom.get(ids[this.ID.PICKER_BG]);if(!el){this._createElements();}else{this.logger.log("Using pre-existing markup");}
for(i in ids){if(lang.hasOwnProperty(ids,i)){el=Dom.get(ids[i]);id=Dom.generateId(el);ids[i]=id;ids[ids[i]]=id;els[id]=el;}}},initPicker:function(){this._initSliders();this._bindUI();this.syncUI(true);},_initSliders:function(){var ID=this.ID,size=this.get(this.OPT.PICKER_SIZE);this.logger.log("picker size"+size);this.hueSlider=Slider.getVertSlider(this.getElement(ID.HUE_BG),this.getElement(ID.HUE_THUMB),0,size);this.pickerSlider=Slider.getSliderRegion(this.getElement(ID.PICKER_BG),this.getElement(ID.PICKER_THUMB),0,size,0,size);this.set(this.OPT.ANIMATE,this.get(this.OPT.ANIMATE));},_bindUI:function(){var ID=this.ID,O=this.OPT;this.hueSlider.subscribe("change",this._onHueSliderChange,this,true);this.pickerSlider.subscribe("change",this._onPickerSliderChange,this,true);Event.on(this.getElement(ID.WEBSAFE_SWATCH),"click",function(e){this.setValue(this.get(O.WEBSAFE));},this,true);Event.on(this.getElement(ID.CONTROLS_LABEL),"click",function(e){this.set(O.SHOW_CONTROLS,!this.get(O.SHOW_CONTROLS));Event.preventDefault(e);},this,true);this._attachRGBHSV(ID.R,O.RED);this._attachRGBHSV(ID.G,O.GREEN);this._attachRGBHSV(ID.B,O.BLUE);this._attachRGBHSV(ID.H,O.HUE);this._attachRGBHSV(ID.S,O.SATURATION);this._attachRGBHSV(ID.V,O.VALUE);Event.on(this.getElement(ID.HEX),"keydown",function(e,me){me._hexFieldKeypress(e,this,O.HEX);},this);Event.on(this.getElement(this.ID.HEX),"keypress",this._hexOnly,this,true);Event.on(this.getElement(this.ID.HEX),"blur",function(e,me){me._useFieldValue(e,this,O.HEX);},this);},syncUI:function(skipAnim){this.skipAnim=skipAnim;this._updateRGB();this.skipAnim=false;},_updateRGBFromHSV:function(){var hsv=[this.get(this.OPT.HUE),this.get(this.OPT.SATURATION)/100,this.get(this.OPT.VALUE)/100],rgb=Color.hsv2rgb(hsv);this.logger.log("HSV converted to RGB "+hsv+" : "+rgb);this.set(this.OPT.RGB,rgb);this._updateSliders();},_updateHex:function(){var hex=this.get(this.OPT.HEX),l=hex.length,c,i,rgb;if(l===3){c=hex.split("");for(i=0;i<l;i=i+1){c[i]=c[i]+c[i];}
hex=c.join("");}
if(hex.length!==6){this.logger.log(this.get(this.TXT.ILLEGAL_HEX),"error");return false;}
rgb=Color.hex2rgb(hex);this.logger.log(sub("Hex value set to {hex} ({rgb})",{hex:hex,rgb:rgb}));this.setValue(rgb);},_hideShowEl:function(id,on){var el=(lang.isString(id)?this.getElement(id):id);Dom.setStyle(el,"display",(on)?"":"none");},initAttributes:function(attr){attr=attr||{};ColorPicker.superclass.initAttributes.call(this,attr);this.setAttributeConfig(this.OPT.PICKER_SIZE,{value:attr.size||this.DEFAULT.PICKER_SIZE});this.setAttributeConfig(this.OPT.HUE,{value:attr.hue||0,validator:lang.isNumber});this.setAttributeConfig(this.OPT.SATURATION,{value:attr.saturation||0,validator:lang.isNumber});this.setAttributeConfig(this.OPT.VALUE,{value:lang.isNumber(attr.value)?attr.value:100,validator:lang.isNumber});this.setAttributeConfig(this.OPT.RED,{value:lang.isNumber(attr.red)?attr.red:255,validator:lang.isNumber});this.setAttributeConfig(this.OPT.GREEN,{value:lang.isNumber(attr.green)?attr.green:255,validator:lang.isNumber});this.setAttributeConfig(this.OPT.BLUE,{value:lang.isNumber(attr.blue)?attr.blue:255,validator:lang.isNumber});this.setAttributeConfig(this.OPT.HEX,{value:attr.hex||"FFFFFF",validator:lang.isString});this.setAttributeConfig(this.OPT.RGB,{value:attr.rgb||[255,255,255],method:function(rgb){this.set(this.OPT.RED,rgb[0],true);this.set(this.OPT.GREEN,rgb[1],true);this.set(this.OPT.BLUE,rgb[2],true);var websafe=Color.websafe(rgb),hex=Color.rgb2hex(rgb),hsv=Color.rgb2hsv(rgb);this.set(this.OPT.WEBSAFE,websafe,true);this.set(this.OPT.HEX,hex,true);this.logger.log(sub("RGB value set to {rgb} (hsv: {hsv})",{"hsv":hsv,"rgb":rgb}));if(hsv[1]){this.set(this.OPT.HUE,hsv[0],true);}
this.set(this.OPT.SATURATION,Math.round(hsv[1]*100),true);this.set(this.OPT.VALUE,Math.round(hsv[2]*100),true);},readonly:true});this.setAttributeConfig(this.OPT.CONTAINER,{value:null,method:function(container){if(container){container.showEvent.subscribe(function(){this.pickerSlider.focus();},this,true);}}});this.setAttributeConfig(this.OPT.WEBSAFE,{value:attr.websafe||[255,255,255]});var ids=attr.ids||lang.merge({},this.ID),i;if(!attr.ids&&_pickercount>1){for(i in ids){if(lang.hasOwnProperty(ids,i)){ids[i]=ids[i]+_pickercount;}}}
this.setAttributeConfig(this.OPT.IDS,{value:ids,writeonce:true});this.setAttributeConfig(this.OPT.TXT,{value:attr.txt||this.TXT,writeonce:true});this.setAttributeConfig(this.OPT.IMAGES,{value:attr.images||this.IMAGE,writeonce:true});this.setAttributeConfig(this.OPT.ELEMENTS,{value:{},readonly:true});this.setAttributeConfig(this.OPT.SHOW_CONTROLS,{value:lang.isBoolean(attr.showcontrols)?attr.showcontrols:true,method:function(on){var el=Dom.getElementsByClassName("bd","div",this.getElement(this.ID.CONTROLS))[0];this._hideShowEl(el,on);this.getElement(this.ID.CONTROLS_LABEL).innerHTML=(on)?this.get(this.OPT.TXT).HIDE_CONTROLS:this.get(this.OPT.TXT).SHOW_CONTROLS;}});this.setAttributeConfig(this.OPT.SHOW_RGB_CONTROLS,{value:lang.isBoolean(attr.showrgbcontrols)?attr.showrgbcontrols:true,method:function(on){this._hideShowEl(this.ID.RGB_CONTROLS,on);}});this.setAttributeConfig(this.OPT.SHOW_HSV_CONTROLS,{value:lang.isBoolean(attr.showhsvcontrols)?attr.showhsvcontrols:false,method:function(on){this._hideShowEl(this.ID.HSV_CONTROLS,on);if(on&&this.get(this.OPT.SHOW_HEX_SUMMARY)){this.set(this.OPT.SHOW_HEX_SUMMARY,false);}}});this.setAttributeConfig(this.OPT.SHOW_HEX_CONTROLS,{value:lang.isBoolean(attr.showhexcontrols)?attr.showhexcontrols:false,method:function(on){this._hideShowEl(this.ID.HEX_CONTROLS,on);}});this.setAttributeConfig(this.OPT.SHOW_WEBSAFE,{value:lang.isBoolean(attr.showwebsafe)?attr.showwebsafe:true,method:function(on){this._hideShowEl(this.ID.WEBSAFE_SWATCH,on);}});this.setAttributeConfig(this.OPT.SHOW_HEX_SUMMARY,{value:lang.isBoolean(attr.showhexsummary)?attr.showhexsummary:true,method:function(on){this._hideShowEl(this.ID.HEX_SUMMARY,on);if(on&&this.get(this.OPT.SHOW_HSV_CONTROLS)){this.set(this.OPT.SHOW_HSV_CONTROLS,false);}}});this.setAttributeConfig(this.OPT.ANIMATE,{value:lang.isBoolean(attr.animate)?attr.animate:true,method:function(on){if(this.pickerSlider){this.pickerSlider.animate=on;this.hueSlider.animate=on;}}});this.on(this.OPT.HUE+"Change",this._updateRGBFromHSV,this,true);this.on(this.OPT.SATURATION+"Change",this._updateRGBFromHSV,this,true);this.on(this.OPT.VALUE+"Change",this._updateRGBFromHSV,this,true);this.on(this.OPT.RED+"Change",this._updateRGB,this,true);this.on(this.OPT.GREEN+"Change",this._updateRGB,this,true);this.on(this.OPT.BLUE+"Change",this._updateRGB,this,true);this.on(this.OPT.HEX+"Change",this._updateHex,this,true);this._initElements();}});YAHOO.widget.ColorPicker=ColorPicker;})();YAHOO.register("colorpicker",YAHOO.widget.ColorPicker,{version:"2.8.0r4",build:"2449"});
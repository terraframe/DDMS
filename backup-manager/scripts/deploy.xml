<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright (C) 2018 IVCC
  
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<project name="geo-manager" default="deploy">

	<!-- =================================================================== -->
	<!-- Set up our properties                                               -->
	<!-- =================================================================== -->

	<!-- IMPORTANT: This ant script should be run with a base directory set to the root of the project! -->
	  
  <!-- Launch Properties: -->
  <!-- mdss.admin -->
  <!-- (Set these in the launch configuration) -->
	
	<property name="manager.version" value="1.0.0" />
	<property name="manager.lib" value="${basedir}/lib" />
	<property name="manager.resources" value="${basedir}/src/main/resources" />
	<property name="target.dir" value="${basedir}/target" />
	<property name="deploy.dir" value="${mdss.admin}/backup-manager-1.0.0" />


	<target name="deploy">
		<mkdir dir="${deploy.dir}" />

		<copy todir="${deploy.dir}/lib" overwrite="true">
			<fileset dir="${manager.lib}">
				<include name="**/*" />
			</fileset>
			<fileset dir="${target.dir}">
				<include name="**/backup-manager-${manager.version}.jar" />
			</fileset>
		</copy>
		
		<copy todir="${deploy.dir}/classes" overwrite="true">
			<fileset dir="${manager.resources}">
				<include name="**/*.properties" />
			</fileset>
		</copy>
	</target>
</project>
